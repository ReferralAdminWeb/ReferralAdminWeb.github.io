"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function($,A,a){a.r(A);var j=a(15009),p=a.n(j),O=a(99289),l=a.n(O),k=a(5574),d=a.n(k),g=a(12095),v=a(65763),E=a(90930),P=a(38521),M=a(37476),C=a(5966),y=a(20040),w=a(80854),I=a(2453),T=a(28036),W=a(72051),S=a(85265),f=a(67294),s=a(85893),u=function(){var i=(0,f.useState)(!1),r=d()(i,2),_=r[0],D=r[1],re=(0,f.useState)(!1),F=d()(re,2),ne=F[0],Z=F[1],ie=(0,f.useState)(!1),X=d()(ie,2),le=X[0],G=X[1],ue=(0,f.useState)(),H=d()(ue,2),z=H[0],b=H[1],de=(0,f.useState)(),Y=d()(de,2),x=Y[0],J=Y[1],oe=I.ZP.useMessage(),N=d()(oe,2),Q=N[0],ce=N[1],_e=(0,f.useState)(!1),q=d()(_e,2),me=q[0],ee=q[1],te=(0,f.useRef)(),ae=(0,f.useRef)(),se=(0,f.useRef)(),n=(0,w.useIntl)(),he=(0,f.useState)(),V=function(){var c=l()(p()().mark(function m(e){var h;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(z){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,(0,g.Nq)(z.guid,e);case 5:return I.ZP.success(n.formatMessage({id:"pages.vipList.update.success"})),(h=te.current)===null||h===void 0||h.reload(),b(void 0),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(2),I.ZP.error(n.formatMessage({id:"pages.vipList.update.error"})),t.abrupt("return",!1);case 15:case"end":return t.stop()}},m,null,[[2,11]])}));return function(e){return c.apply(this,arguments)}}(),pe=function(){var c=l()(p()().mark(function m(e){var h;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return b(e),Q.loading("load..."),t.prev=2,t.next=5,(0,g.DJ)(e.guid);case 5:h=t.sent,J(h),ee(!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),I.ZP.error(n.formatMessage({id:"pages.vipList.getVipDetail.error"})),b(void 0);case 14:Q.destroy();case 15:case"end":return t.stop()}},m,null,[[2,10]])}));return function(e){return c.apply(this,arguments)}}(),ve=[{title:"",dataIndex:"type",key:"type"},{title:n.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],fe=[{title:"ID",dataIndex:"id"},{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:n.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:n.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:n.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark"},{title:n.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(m,e){var h=[(0,s.jsx)(T.ZP,{type:"link",onClick:function(){var t;b(e),(t=ae.current)===null||t===void 0||t.setFieldValue("remark",e.remark),requestAnimationFrame(function(){D(!0)})},children:n.formatMessage({id:"pages.vipList.editRemark"})}),(0,s.jsx)(T.ZP,{type:"link",onClick:function(){var t;b(e),(t=se.current)===null||t===void 0||t.setFieldValue("email",e.email),requestAnimationFrame(function(){Z(!0)})},children:n.formatMessage({id:"pages.vipList.editEmail"})}),(0,s.jsx)(T.ZP,{type:"link",onClick:function(){b(e),requestAnimationFrame(function(){G(!0)})},children:n.formatMessage({id:"pages.vipList.editEmailPassword"})}),(0,s.jsx)(T.ZP,{type:"link",onClick:l()(p()().mark(function L(){return p()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,pe(e);case 2:case"end":return R.stop()}},L)})),children:n.formatMessage({id:"pages.vipList.detail"})},"view")];return h}}],ge=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:n.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:n.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:n.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:n.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(m){return"$"+(0,v.B)(m,6)}},{title:n.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(m){return"$"+(0,v.B)(m,6)}},{title:n.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(m){return"$"+(0,v.B)(m,6)}},{},{span:2,render:function(m,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,s.jsx)("div",{});var h=[{type:n.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:n.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,v.B)(e.totalInviteeVolume24H,6),level1:"$"+(0,v.B)(e.inviteeVolume24HList[0],6),level2:"$"+(0,v.B)(e.inviteeVolume24HList[1],6),level3:"$"+(0,v.B)(e.inviteeVolume24HList[2],6),level4:"$"+(0,v.B)(e.inviteeVolume24HList[3],6),level5:"$"+(0,v.B)(e.inviteeVolume24HList[4],6)}];return(0,s.jsx)(W.Z,{columns:ve,dataSource:h,pagination:!1})}}];return(0,s.jsxs)(E._z,{children:[(0,s.jsx)(P.Z,{actionRef:te,rowKey:"guid",search:{labelWidth:120},request:function(){var c=l()(p()().mark(function m(e,h){var L,t,R,K,B;return p()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return console.log(h),e.page=e==null?void 0:e.current,delete e.current,U.next=5,(0,g.zc)(e,h);case 5:return B=U.sent,console.log({data:(L=B.data)===null||L===void 0?void 0:L.list,success:B.code==0,total:(t=B.data)===null||t===void 0?void 0:t.total}),U.abrupt("return",{data:(R=B.data)===null||R===void 0?void 0:R.list,success:B.code==0,total:(K=B.data)===null||K===void 0?void 0:K.total});case 8:case"end":return U.stop()}},m)}));return function(m,e){return c.apply(this,arguments)}}(),columns:fe}),(0,s.jsx)(M.Y,{formRef:ae,title:n.formatMessage({id:"pages.vipList.editRemark"}),open:_,onFinish:V,onOpenChange:D,children:(0,s.jsx)(C.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,s.jsx)(M.Y,{formRef:se,title:n.formatMessage({id:"pages.vipList.editEmail"}),open:ne,onFinish:V,onOpenChange:Z,children:(0,s.jsx)(C.Z,{name:"email",fieldProps:{maxLength:64},rules:[{required:!0,message:"Please enter email!"},{type:"email",message:"must email"}]})}),(0,s.jsx)(M.Y,{title:n.formatMessage({id:"pages.vipList.editEmailPassword"}),open:le,onFinish:V,onOpenChange:G,children:(0,s.jsx)(C.Z.Password,{name:"emailPassword",fieldProps:{maxLength:24},rules:[{required:!0,message:"Please enter password!"},{min:6,message:"length min 6"}]})}),(0,s.jsx)(S.Z,{width:600,open:me,onClose:function(){b(void 0),J(void 0),ee(!1)},closable:!1,children:(0,s.jsx)(y.ZP,{column:2,title:n.formatMessage({id:"pages.vipList.detail.view"}),request:l()(p()().mark(function c(){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:x||{}});case 1:case"end":return e.stop()}},c)})),params:{guid:x==null?void 0:x.guid},columns:ge})})]})};A.default=u},12095:function($,A,a){a.d(A,{DJ:function(){return C},Nq:function(){return T},V8:function(){return v},fA:function(){return w},ig:function(){return S},zc:function(){return P}});var j=a(97857),p=a.n(j),O=a(15009),l=a.n(O),k=a(99289),d=a.n(k),g=a(80854);function v(s){return E.apply(this,arguments)}function E(){return E=d()(l()().mark(function s(u){var o;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.request)("https://ref.gao.link/api/user/getUserByRef",{method:"GET",params:{refCode:u}});case 2:if(o=r.sent,o.code===0){r.next=5;break}throw o.msg;case 5:return r.abrupt("return",o.data);case 6:case"end":return r.stop()}},s)})),E.apply(this,arguments)}function P(s,u){return M.apply(this,arguments)}function M(){return M=d()(l()().mark(function s(u,o){var i;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,g.request)("https://ref.gao.link/api/user/getVipPageList",p()({method:"GET",params:p()({},u)},o||{}));case 2:if(i=_.sent,i.code===0){_.next=5;break}throw i.msg;case 5:return _.abrupt("return",i);case 6:case"end":return _.stop()}},s)})),M.apply(this,arguments)}function C(s){return y.apply(this,arguments)}function y(){return y=d()(l()().mark(function s(u){var o;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.request)("https://ref.gao.link/api/user/getVipDetail",{method:"GET",params:{guid:u}});case 2:if(o=r.sent,o.code===0){r.next=5;break}throw o.msg;case 5:return r.abrupt("return",o.data);case 6:case"end":return r.stop()}},s)})),y.apply(this,arguments)}function w(s,u,o){return I.apply(this,arguments)}function I(){return I=d()(l()().mark(function s(u,o,i){var r;return l()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,g.request)("https://ref.gao.link/api/user/addSvip",{method:"POST",data:{guid:u,vip:o,remark:i}});case 2:if(r=D.sent,r.code===0){D.next=5;break}throw r.msg;case 5:return D.abrupt("return");case 6:case"end":return D.stop()}},s)})),I.apply(this,arguments)}function T(s,u){return W.apply(this,arguments)}function W(){return W=d()(l()().mark(function s(u,o){var i;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,g.request)("https://ref.gao.link/api/user/updateUser",{method:"POST",data:p()({guid:u},o)});case 2:if(i=_.sent,i.code===0){_.next=5;break}throw i.msg;case 5:return _.abrupt("return");case 6:case"end":return _.stop()}},s)})),W.apply(this,arguments)}function S(){return f.apply(this,arguments)}function f(){return f=d()(l()().mark(function s(){var u;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("https://ref.gao.link/api/overall/data",{method:"GET"});case 2:if(u=i.sent,u.code===0){i.next=5;break}throw u.msg;case 5:return i.abrupt("return",u.data);case 6:case"end":return i.stop()}},s)})),f.apply(this,arguments)}},65763:function($,A,a){a.d(A,{B:function(){return p}});var j=a(90482);function p(O,l){if(!O)return"";var k=new j.Z(O),d=O.split(".");if(d.length!==2)return O;for(var g=d[0],v=d[1],E=0,P="",M=0;M<v.length;M++){var C=v[M];if(P.length>=l)break;C=="0"&&P.length==0?E=E+1:P=P+C}return E>3?g+".0{"+E+"}"+P:g+"."+"0".repeat(E)+P}}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function($,A,t){t.r(A);var j=t(15009),v=t.n(j),I=t(99289),u=t.n(I),k=t(5574),o=t.n(k),c=t(12095),g=t(65763),P=t(90930),L=t(38521),D=t(37476),R=t(5966),y=t(20040),w=t(80854),C=t(2453),T=t(28036),W=t(72051),S=t(85265),h=t(67294),a=t(85893),d=function(){var l=(0,h.useState)(!1),s=o()(l,2),m=s[0],O=s[1],se=(0,h.useState)(!1),F=o()(se,2),ne=F[0],Z=F[1],ie=(0,h.useState)(!1),X=o()(ie,2),le=X[0],G=X[1],ue=(0,h.useState)(),H=o()(ue,2),z=H[0],b=H[1],de=(0,h.useState)(),Y=o()(de,2),x=Y[0],J=Y[1],oe=C.ZP.useMessage(),N=o()(oe,2),Q=N[0],ce=N[1],_e=(0,h.useState)(!1),q=o()(_e,2),me=q[0],ee=q[1],te=(0,h.useRef)(),ae=(0,h.useRef)(),re=(0,h.useRef)(),n=(0,w.useIntl)(),V=function(){var E=u()(v()().mark(function p(e){var M,f;return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(z){r.next=2;break}return r.abrupt("return",!1);case 2:return r.prev=2,r.next=5,(0,c.Nq)(z.guid,e);case 5:if(f=r.sent,f.code===0){r.next=11;break}if(f.code!=-2){r.next=10;break}return C.ZP.error(f.msg),r.abrupt("return",!1);case 10:throw f.msg;case 11:return C.ZP.success(n.formatMessage({id:"pages.vipList.update.success"})),(M=te.current)===null||M===void 0||M.reload(),b(void 0),r.abrupt("return",!0);case 17:return r.prev=17,r.t0=r.catch(2),C.ZP.error(n.formatMessage({id:"pages.vipList.update.error"})),r.abrupt("return",!1);case 21:case"end":return r.stop()}},p,null,[[2,17]])}));return function(e){return E.apply(this,arguments)}}(),pe=function(){var E=u()(v()().mark(function p(e){var M;return v()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return b(e),Q.loading("load..."),i.prev=2,i.next=5,(0,c.DJ)(e.guid);case 5:M=i.sent,J(M),ee(!0),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(2),C.ZP.error(n.formatMessage({id:"pages.vipList.getVipDetail.error"})),b(void 0);case 14:Q.destroy();case 15:case"end":return i.stop()}},p,null,[[2,10]])}));return function(e){return E.apply(this,arguments)}}(),ve=[{title:"",dataIndex:"type",key:"type"},{title:n.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],fe=[{title:"ID",dataIndex:"id"},{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:n.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:n.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:n.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark"},{title:n.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(p,e){var M=[(0,a.jsx)(T.ZP,{type:"link",onClick:function(){var i;b(e),(i=ae.current)===null||i===void 0||i.setFieldValue("remark",e.remark),requestAnimationFrame(function(){O(!0)})},children:n.formatMessage({id:"pages.vipList.editRemark"})}),(0,a.jsx)(T.ZP,{type:"link",onClick:function(){var i;b(e),(i=re.current)===null||i===void 0||i.setFieldValue("email",e.email),requestAnimationFrame(function(){Z(!0)})},children:n.formatMessage({id:"pages.vipList.editEmail"})}),(0,a.jsx)(T.ZP,{type:"link",onClick:function(){b(e),requestAnimationFrame(function(){G(!0)})},children:n.formatMessage({id:"pages.vipList.editEmailPassword"})}),(0,a.jsx)(T.ZP,{type:"link",onClick:u()(v()().mark(function f(){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,pe(e);case 2:case"end":return r.stop()}},f)})),children:n.formatMessage({id:"pages.vipList.detail"})},"view")];return M}}],ge=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:n.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:n.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:n.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:n.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(p){return"$"+(0,g.B)(p,6)}},{title:n.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(p){return"$"+(0,g.B)(p,6)}},{title:n.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(p){return"$"+(0,g.B)(p,6)}},{},{span:2,render:function(p,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,a.jsx)("div",{});var M=[{type:n.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:n.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,g.B)(e.totalInviteeVolume24H,6),level1:"$"+(0,g.B)(e.inviteeVolume24HList[0],6),level2:"$"+(0,g.B)(e.inviteeVolume24HList[1],6),level3:"$"+(0,g.B)(e.inviteeVolume24HList[2],6),level4:"$"+(0,g.B)(e.inviteeVolume24HList[3],6),level5:"$"+(0,g.B)(e.inviteeVolume24HList[4],6)}];return(0,a.jsx)(W.Z,{columns:ve,dataSource:M,pagination:!1})}}];return(0,a.jsxs)(P._z,{children:[(0,a.jsx)(L.Z,{actionRef:te,rowKey:"guid",search:{labelWidth:120},request:function(){var E=u()(v()().mark(function p(e,M){var f,i,r,K,B;return v()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return console.log(M),e.page=e==null?void 0:e.current,delete e.current,U.next=5,(0,c.zc)(e,M);case 5:return B=U.sent,console.log({data:(f=B.data)===null||f===void 0?void 0:f.list,success:B.code==0,total:(i=B.data)===null||i===void 0?void 0:i.total}),U.abrupt("return",{data:(r=B.data)===null||r===void 0?void 0:r.list,success:B.code==0,total:(K=B.data)===null||K===void 0?void 0:K.total});case 8:case"end":return U.stop()}},p)}));return function(p,e){return E.apply(this,arguments)}}(),columns:fe}),(0,a.jsx)(D.Y,{formRef:ae,title:n.formatMessage({id:"pages.vipList.editRemark"}),open:m,onFinish:V,onOpenChange:O,children:(0,a.jsx)(R.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,a.jsx)(D.Y,{formRef:re,title:n.formatMessage({id:"pages.vipList.editEmail"}),open:ne,onFinish:V,onOpenChange:Z,children:(0,a.jsx)(R.Z,{name:"email",fieldProps:{maxLength:64},rules:[{required:!0,message:"Please enter email!"},{type:"email",message:"must email"}]})}),(0,a.jsx)(D.Y,{title:n.formatMessage({id:"pages.vipList.editEmailPassword"}),open:le,onFinish:V,onOpenChange:G,children:(0,a.jsx)(R.Z.Password,{name:"emailPassword",fieldProps:{maxLength:24},rules:[{required:!0,message:"Please enter password!"},{min:6,message:"length min 6"}]})}),(0,a.jsx)(S.Z,{width:600,open:me,onClose:function(){b(void 0),J(void 0),ee(!1)},closable:!1,children:(0,a.jsx)(y.ZP,{column:2,title:n.formatMessage({id:"pages.vipList.detail.view"}),request:u()(v()().mark(function E(){return v()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:x||{}});case 1:case"end":return e.stop()}},E)})),params:{guid:x==null?void 0:x.guid},columns:ge})})]})};A.default=d},12095:function($,A,t){t.d(A,{DJ:function(){return R},Nq:function(){return T},V8:function(){return g},fA:function(){return w},ig:function(){return S},zc:function(){return L}});var j=t(97857),v=t.n(j),I=t(15009),u=t.n(I),k=t(99289),o=t.n(k),c=t(80854);function g(a){return P.apply(this,arguments)}function P(){return P=o()(u()().mark(function a(d){var _;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,c.request)("https://ref.gao.link/api/user/getUserByRef",{method:"GET",params:{refCode:d}});case 2:if(_=s.sent,_.code===0){s.next=5;break}throw _.msg;case 5:return s.abrupt("return",_.data);case 6:case"end":return s.stop()}},a)})),P.apply(this,arguments)}function L(a,d){return D.apply(this,arguments)}function D(){return D=o()(u()().mark(function a(d,_){var l;return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,c.request)("https://ref.gao.link/api/user/getVipPageList",v()({method:"GET",params:v()({},d)},_||{}));case 2:if(l=m.sent,l.code===0){m.next=5;break}throw l.msg;case 5:return m.abrupt("return",l);case 6:case"end":return m.stop()}},a)})),D.apply(this,arguments)}function R(a){return y.apply(this,arguments)}function y(){return y=o()(u()().mark(function a(d){var _;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,c.request)("https://ref.gao.link/api/user/getVipDetail",{method:"GET",params:{guid:d}});case 2:if(_=s.sent,_.code===0){s.next=5;break}throw _.msg;case 5:return s.abrupt("return",_.data);case 6:case"end":return s.stop()}},a)})),y.apply(this,arguments)}function w(a,d,_){return C.apply(this,arguments)}function C(){return C=o()(u()().mark(function a(d,_,l){var s;return u()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,c.request)("https://ref.gao.link/api/user/addSvip",{method:"POST",data:{guid:d,vip:_,remark:l}});case 2:if(s=O.sent,s.code===0){O.next=5;break}throw s.msg;case 5:return O.abrupt("return");case 6:case"end":return O.stop()}},a)})),C.apply(this,arguments)}function T(a,d){return W.apply(this,arguments)}function W(){return W=o()(u()().mark(function a(d,_){var l;return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,c.request)("https://ref.gao.link/api/user/updateUser",{method:"POST",data:v()({guid:d},_)});case 2:return l=m.sent,m.abrupt("return",l);case 4:case"end":return m.stop()}},a)})),W.apply(this,arguments)}function S(){return h.apply(this,arguments)}function h(){return h=o()(u()().mark(function a(){var d;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,c.request)("https://ref.gao.link/api/overall/data",{method:"GET"});case 2:if(d=l.sent,d.code===0){l.next=5;break}throw d.msg;case 5:return l.abrupt("return",d.data);case 6:case"end":return l.stop()}},a)})),h.apply(this,arguments)}},65763:function($,A,t){t.d(A,{B:function(){return v}});var j=t(90482);function v(I,u){if(!I)return"";var k=new j.Z(I),o=I.split(".");if(o.length!==2)return I;for(var c=o[0],g=o[1],P=0,L="",D=0;D<g.length;D++){var R=g[D];if(L.length>=u)break;R=="0"&&L.length==0?P=P+1:L=L+R}return P>3?c+".0{"+P+"}"+L:c+"."+"0".repeat(P)+L}}}]);

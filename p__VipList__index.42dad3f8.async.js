"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function(S,R,t){t.r(R);var A=t(15009),p=t.n(A),L=t(99289),i=t.n(L),y=t(5574),m=t.n(y),f=t(12095),v=t(65763),h=t(90930),M=t(38521),P=t(37476),B=t(5966),U=t(20040),V=t(80854),I=t(2453),k=t(28036),W=t(72051),$=t(85265),E=t(67294),r=t(85893),u=function(){var s=(0,E.useState)(!1),n=m()(s,2),_=n[0],D=n[1],Q=(0,E.useState)(),w=m()(Q,2),Z=w[0],j=w[1],q=(0,E.useState)(),X=m()(q,2),K=X[0],F=X[1],ee=I.ZP.useMessage(),G=m()(ee,2),H=G[0],ue=G[1],te=(0,E.useState)(!1),z=m()(te,2),ae=z[0],J=z[1],N=(0,E.useRef)(),Y=(0,E.useRef)(),l=(0,V.useIntl)(),de=(0,E.useState)(),re=function(){var c=i()(p()().mark(function o(e){var g;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Z){a.next=2;break}return a.abrupt("return",!1);case 2:return a.prev=2,a.next=5,(0,f.Nq)(Z.guid,e.remark);case 5:return I.ZP.success(l.formatMessage({id:"pages.vipList.update.success"})),(g=N.current)===null||g===void 0||g.reload(),j(void 0),a.abrupt("return",!0);case 11:return a.prev=11,a.t0=a.catch(2),I.ZP.error(l.formatMessage({id:"pages.vipList.update.error"})),a.abrupt("return",!1);case 15:case"end":return a.stop()}},o,null,[[2,11]])}));return function(e){return c.apply(this,arguments)}}(),ne=function(){var c=i()(p()().mark(function o(e){var g;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return j(e),H.loading("load..."),a.prev=2,a.next=5,(0,f.DJ)(e.guid);case 5:g=a.sent,F(g),J(!0),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),I.ZP.error(l.formatMessage({id:"pages.vipList.getVipDetail.error"})),j(void 0);case 14:H.destroy();case 15:case"end":return a.stop()}},o,null,[[2,10]])}));return function(e){return c.apply(this,arguments)}}(),se=[{title:"",dataIndex:"type",key:"type"},{title:l.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],ie=[{title:"ID",dataIndex:"id"},{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:l.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:l.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:l.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark"},{title:l.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(o,e){var g=[(0,r.jsx)(k.ZP,{type:"link",onClick:function(){var a;j(e),(a=Y.current)===null||a===void 0||a.setFieldValue("remark",e.remark),requestAnimationFrame(function(){D(!0)})},children:l.formatMessage({id:"pages.vipList.editRemark"})}),(0,r.jsx)(k.ZP,{type:"link",onClick:i()(p()().mark(function O(){return p()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,ne(e);case 2:case"end":return C.stop()}},O)})),children:l.formatMessage({id:"pages.vipList.detail"})},"view")];return g}}],le=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:l.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:l.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:l.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:l.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(o){return"$"+(0,v.B)(o,6)}},{title:l.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(o){return"$"+(0,v.B)(o,6)}},{title:l.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(o){return"$"+(0,v.B)(o,6)}},{},{span:2,render:function(o,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,r.jsx)("div",{});var g=[{type:l.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:l.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,v.B)(e.totalInviteeVolume24H,6),level1:"$"+(0,v.B)(e.inviteeVolume24HList[0],6),level2:"$"+(0,v.B)(e.inviteeVolume24HList[1],6),level3:"$"+(0,v.B)(e.inviteeVolume24HList[2],6),level4:"$"+(0,v.B)(e.inviteeVolume24HList[3],6),level5:"$"+(0,v.B)(e.inviteeVolume24HList[4],6)}];return(0,r.jsx)(W.Z,{columns:se,dataSource:g,pagination:!1})}}];return(0,r.jsxs)(h._z,{children:[(0,r.jsx)(M.Z,{actionRef:N,rowKey:"guid",search:{labelWidth:120},request:function(){var c=i()(p()().mark(function o(e,g){var O,a,C,x,b;return p()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return console.log(g),e.page=e==null?void 0:e.current,delete e.current,T.next=5,(0,f.zc)(e,g);case 5:return b=T.sent,console.log({data:(O=b.data)===null||O===void 0?void 0:O.list,success:b.code==0,total:(a=b.data)===null||a===void 0?void 0:a.total}),T.abrupt("return",{data:(C=b.data)===null||C===void 0?void 0:C.list,success:b.code==0,total:(x=b.data)===null||x===void 0?void 0:x.total});case 8:case"end":return T.stop()}},o)}));return function(o,e){return c.apply(this,arguments)}}(),columns:ie}),(0,r.jsx)(P.Y,{formRef:Y,title:l.formatMessage({id:"pages.vipList.editRemark"}),open:_,onFinish:re,onOpenChange:D,children:(0,r.jsx)(B.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,r.jsx)($.Z,{width:600,open:ae,onClose:function(){j(void 0),F(void 0),J(!1)},closable:!1,children:(0,r.jsx)(U.ZP,{column:2,title:l.formatMessage({id:"pages.vipList.detail.view"}),request:i()(p()().mark(function c(){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:K||{}});case 1:case"end":return e.stop()}},c)})),params:{guid:K==null?void 0:K.guid},columns:le})})]})};R.default=u},12095:function(S,R,t){t.d(R,{DJ:function(){return B},Nq:function(){return k},V8:function(){return v},fA:function(){return V},ig:function(){return $},zc:function(){return M}});var A=t(97857),p=t.n(A),L=t(15009),i=t.n(L),y=t(99289),m=t.n(y),f=t(80854);function v(r){return h.apply(this,arguments)}function h(){return h=m()(i()().mark(function r(u){var d;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.request)("https://ref.gao.link/api/user/getUserByRef",{method:"GET",params:{refCode:u}});case 2:if(d=n.sent,d.code===0){n.next=5;break}throw d.msg;case 5:return n.abrupt("return",d.data);case 6:case"end":return n.stop()}},r)})),h.apply(this,arguments)}function M(r,u){return P.apply(this,arguments)}function P(){return P=m()(i()().mark(function r(u,d){var s;return i()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,f.request)("https://ref.gao.link/api/user/getVipPageList",p()({method:"GET",params:p()({},u)},d||{}));case 2:if(s=_.sent,s.code===0){_.next=5;break}throw s.msg;case 5:return _.abrupt("return",s);case 6:case"end":return _.stop()}},r)})),P.apply(this,arguments)}function B(r){return U.apply(this,arguments)}function U(){return U=m()(i()().mark(function r(u){var d;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.request)("https://ref.gao.link/api/user/getVipDetail",{method:"GET",params:{guid:u}});case 2:if(d=n.sent,d.code===0){n.next=5;break}throw d.msg;case 5:return n.abrupt("return",d.data);case 6:case"end":return n.stop()}},r)})),U.apply(this,arguments)}function V(r,u,d){return I.apply(this,arguments)}function I(){return I=m()(i()().mark(function r(u,d,s){var n;return i()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,f.request)("https://ref.gao.link/api/user/addSvip",{method:"POST",data:{guid:u,vip:d,remark:s}});case 2:if(n=D.sent,n.code===0){D.next=5;break}throw n.msg;case 5:return D.abrupt("return");case 6:case"end":return D.stop()}},r)})),I.apply(this,arguments)}function k(r,u){return W.apply(this,arguments)}function W(){return W=m()(i()().mark(function r(u,d){var s;return i()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,f.request)("https://ref.gao.link/api/user/updateUser",{method:"POST",data:{guid:u,remark:d}});case 2:if(s=_.sent,s.code===0){_.next=5;break}throw s.msg;case 5:return _.abrupt("return");case 6:case"end":return _.stop()}},r)})),W.apply(this,arguments)}function $(){return E.apply(this,arguments)}function E(){return E=m()(i()().mark(function r(){var u;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,f.request)("https://ref.gao.link/api/overall/data",{method:"GET"});case 2:if(u=s.sent,u.code===0){s.next=5;break}throw u.msg;case 5:return s.abrupt("return",u.data);case 6:case"end":return s.stop()}},r)})),E.apply(this,arguments)}},65763:function(S,R,t){t.d(R,{B:function(){return p}});var A=t(90482);function p(L,i){if(!L)return"";var y=new A.Z(L),m=L.split(".");if(m.length!==2)return L;for(var f=m[0],v=m[1],h=0,M="",P=0;P<v.length;P++){var B=v[P];if(M.length>=i)break;B=="0"&&M.length==0?h=h+1:M=M+B}return h>3?f+".0{"+h+"}"+M:f+"."+"0".repeat(h)+M}}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[362],{64317:function(ee,k,r){var E=r(1413),s=r(91),G=r(22270),v=r(67294),z=r(66758),F=r(45456),N=r(85893),V=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],M=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],J=function(o,w){var L=o.fieldProps,S=o.children,b=o.params,D=o.proFieldProps,$=o.mode,B=o.valueEnum,W=o.request,x=o.showSearch,K=o.options,U=(0,s.Z)(o,V),X=(0,v.useContext)(z.Z);return(0,N.jsx)(F.Z,(0,E.Z)((0,E.Z)({valueEnum:(0,G.h)(B),request:W,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,E.Z)({options:K,mode:$,showSearch:x,getPopupContainer:X.getPopupContainer},L),ref:w,proFieldProps:D},U),{},{children:S}))},I=v.forwardRef(function(l,o){var w=l.fieldProps,L=l.children,S=l.params,b=l.proFieldProps,D=l.mode,$=l.valueEnum,B=l.request,W=l.options,x=(0,s.Z)(l,M),K=(0,E.Z)({options:W,mode:D||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},w),U=(0,v.useContext)(z.Z);return(0,N.jsx)(F.Z,(0,E.Z)((0,E.Z)({valueEnum:(0,G.h)($),request:B,params:S,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,E.Z)({getPopupContainer:U.getPopupContainer},K),ref:o,proFieldProps:b},x),{},{children:L}))}),Q=v.forwardRef(J),R=I,j=Q;j.SearchSelect=R,j.displayName="ProFormComponent",k.Z=j},60757:function(ee,k,r){r.r(k),r.d(k,{default:function(){return te}});var E=r(15009),s=r.n(E),G=r(99289),v=r.n(G),z=r(5574),F=r.n(z),N=r(97857),V=r.n(N),M=r(80854);function J(f,d){return I.apply(this,arguments)}function I(){return I=v()(s()().mark(function f(d,p){var P;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,M.request)("https://ref.gao.link/api/superAdmin/getAdminPageList",V()({method:"GET",params:V()({},d)},p||{}));case 2:if(P=i.sent,P.code===0){i.next=5;break}throw P.msg;case 5:return i.abrupt("return",P);case 6:case"end":return i.stop()}},f)})),I.apply(this,arguments)}function Q(f,d,p){return R.apply(this,arguments)}function R(){return R=v()(s()().mark(function f(d,p,P){var c;return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,M.request)("https://ref.gao.link/api/superAdmin/addAdmin",{method:"POST",data:{role:d,username:p,password:P}});case 2:return c=A.sent,A.abrupt("return",c);case 4:case"end":return A.stop()}},f)})),R.apply(this,arguments)}function j(f,d){return l.apply(this,arguments)}function l(){return l=v()(s()().mark(function f(d,p){var P;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,M.request)("https://ref.gao.link/api/superAdmin/editStatus",{method:"POST",data:{id:d,status:p}});case 2:return P=i.sent,i.abrupt("return",P);case 4:case"end":return i.stop()}},f)})),l.apply(this,arguments)}function o(f){return w.apply(this,arguments)}function w(){return w=v()(s()().mark(function f(d){var p;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,M.request)("https://ref.gao.link/api/superAdmin/resetPassword",{method:"POST",data:{id:d}});case 2:return p=c.sent,c.abrupt("return",p);case 4:case"end":return c.stop()}},f)})),w.apply(this,arguments)}var L=r(1413),S=r(67294),b=r(42110),D=r(91146),$=function(d,p){return S.createElement(D.Z,(0,L.Z)((0,L.Z)({},d),{},{ref:p,icon:b.Z}))},B=S.forwardRef($),W=B,x=r(90930),K=r(38521),U=r(37476),X=r(64317),q=r(5966),Z=r(2453),re=r(7134),Y=r(28036),h=r(85893),ae=function(){var d=(0,S.useState)(!1),p=F()(d,2),P=p[0],c=p[1],i=(0,S.useState)(),A=F()(i,2),ie=A[0],le=A[1],H=(0,S.useRef)(),T=(0,M.useIntl)(),_=function(){var C=v()(s()().mark(function m(a,n){var t,g;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,j(a,n);case 3:if(g=u.sent,g.code===0){u.next=9;break}if(g.code!=-2){u.next=8;break}return Z.ZP.error(g.msg),u.abrupt("return",!1);case 8:throw g.msg;case 9:return Z.ZP.success(T.formatMessage({id:"pages.vipList.update.success"})),(t=H.current)===null||t===void 0||t.reload(),u.abrupt("return",!0);case 14:return u.prev=14,u.t0=u.catch(0),Z.ZP.error(T.formatMessage({id:"pages.vipList.update.error"})),u.abrupt("return",!1);case 18:case"end":return u.stop()}},m,null,[[0,14]])}));return function(a,n){return C.apply(this,arguments)}}(),se=function(){var C=v()(s()().mark(function m(a){var n,t;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(a);case 3:if(t=e.sent,t.code===0){e.next=9;break}if(t.code!=-2){e.next=8;break}return Z.ZP.error(t.msg),e.abrupt("return",!1);case 8:throw t.msg;case 9:return Z.ZP.success("\u65B0\u7684\u5BC6\u7801\u4E3A: "+t.data+", \u8BF7\u767B\u9646\u540E\u7ACB\u9A6C\u66F4\u6539"),(n=H.current)===null||n===void 0||n.reload(),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),Z.ZP.error(T.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 18:case"end":return e.stop()}},m,null,[[0,14]])}));return function(a){return C.apply(this,arguments)}}(),ne=function(){var C=v()(s()().mark(function m(a){var n,t;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(a.role,a.username,a.password);case 3:if(t=e.sent,t.code===0){e.next=9;break}if(t.code!=-2){e.next=8;break}return Z.ZP.error(t.msg),e.abrupt("return",!1);case 8:throw t.msg;case 9:return Z.ZP.success(T.formatMessage({id:"pages.vipList.update.success"})),(n=H.current)===null||n===void 0||n.reload(),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),Z.ZP.error(T.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 18:case"end":return e.stop()}},m,null,[[0,14]])}));return function(a){return C.apply(this,arguments)}}(),ue=[{title:"ID",dataIndex:"id"},{title:"createTime",dataIndex:"createTime"},{title:"updateTime",dataIndex:"updateTime"},{title:"status",dataIndex:"status"},{title:"role",dataIndex:"role"},{title:"username",dataIndex:"username"},{title:"avatar",dataIndex:"avatar",render:function(m,a){return(0,h.jsx)(re.C,{size:"small",src:(0,h.jsx)("img",{src:a.avatar,alt:"avatar"})})}},{title:"lastLoginTs",dataIndex:"lastLoginTs"},{title:T.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(m,a){var n=[];return a.status=="normal"?n.push((0,h.jsx)(Y.ZP,{type:"link",onClick:function(){_(a.id,"disabled")},children:"\u7981\u7528"})):n.push((0,h.jsx)(Y.ZP,{type:"link",onClick:function(){_(a.id,"normal")},children:"\u542F\u7528"})),n.push((0,h.jsx)(Y.ZP,{type:"link",onClick:function(){se(a.id)},children:"\u91CD\u7F6E\u5BC6\u7801"})),n}}];return(0,h.jsxs)(x._z,{children:[(0,h.jsx)(K.Z,{actionRef:H,toolBarRender:function(){return[(0,h.jsxs)(Y.ZP,{type:"primary",onClick:function(){c(!0)},children:[(0,h.jsx)(W,{})," \u65B0\u5EFA"]},"primary")]},rowKey:"id",search:{labelWidth:120},request:function(){var C=v()(s()().mark(function m(a,n){var t,g,e,u,y;return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return console.log(n),a.page=a==null?void 0:a.current,delete a.current,O.next=5,J(a,n);case 5:return y=O.sent,console.log({data:(t=y.data)===null||t===void 0?void 0:t.list,success:y.code==0,total:(g=y.data)===null||g===void 0?void 0:g.total}),O.abrupt("return",{data:(e=y.data)===null||e===void 0?void 0:e.list,success:y.code==0,total:(u=y.data)===null||u===void 0?void 0:u.total});case 8:case"end":return O.stop()}},m)}));return function(m,a){return C.apply(this,arguments)}}(),columns:ue}),(0,h.jsxs)(U.Y,{title:"\u65B0\u5EFA\u7BA1\u7406\u5458",open:P,onFinish:ne,onOpenChange:c,children:[(0,h.jsx)(X.Z,{name:"role",label:"\u6743\u9650",valueEnum:{operational:"Operational",superAdmin:"Super Admin"},rules:[{required:!0,message:"Please select role!"}]}),(0,h.jsx)(q.Z,{name:"username",fieldProps:{maxLength:24},label:"\u5E10\u53F7",rules:[{required:!0,message:"Please enter username!"},{min:5,message:"length min 5"}]}),(0,h.jsx)(q.Z.Password,{name:"password",fieldProps:{maxLength:24},label:"\u5BC6\u7801",rules:[{required:!0,message:"Please enter new password!"},{min:6,message:"length min 6"}]})]})]})},te=ae}}]);

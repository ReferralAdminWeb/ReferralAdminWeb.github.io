"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function(F,T,a){a.r(T);var y=a(15009),v=a.n(y),I=a(99289),l=a.n(I),x=a(5574),o=a.n(x),g=a(12095),f=a(65763),L=a(90930),E=a(38521),O=a(37476),P=a(5966),w=a(20040),W=a(80854),U=a(2453),R=a(28036),K=a(72051),k=a(85265),M=a(67294),u=a(85893),_=function(){var d=(0,M.useState)(!1),r=o()(d,2),n=r[0],i=r[1],C=(0,M.useState)(!1),Z=o()(C,2),ne=Z[0],X=Z[1],ie=(0,M.useState)(!1),G=o()(ie,2),le=G[0],H=G[1],ue=(0,M.useState)(),z=o()(ue,2),Y=z[0],B=z[1],de=(0,M.useState)(),J=o()(de,2),S=J[0],N=J[1],oe=U.ZP.useMessage(),Q=o()(oe,2),q=Q[0],ce=Q[1],_e=(0,M.useState)(!1),ee=o()(_e,2),me=ee[0],te=ee[1],ae=(0,M.useRef)(),re=(0,M.useRef)(),se=(0,M.useRef)(),s=(0,W.useIntl)(),he=(0,M.useState)(),V=function(){var c=l()(v()().mark(function p(e){var h;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Y){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,(0,g.Nq)(Y.guid,e);case 5:return U.ZP.success(s.formatMessage({id:"pages.vipList.update.success"})),(h=ae.current)===null||h===void 0||h.reload(),B(void 0),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(2),U.ZP.error(s.formatMessage({id:"pages.vipList.update.error"})),t.abrupt("return",!1);case 15:case"end":return t.stop()}},p,null,[[2,11]])}));return function(e){return c.apply(this,arguments)}}(),pe=function(){var c=l()(v()().mark(function p(e){var h;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return B(e),q.loading("load..."),t.prev=2,t.next=5,(0,g.DJ)(e.guid);case 5:h=t.sent,N(h),te(!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),U.ZP.error(s.formatMessage({id:"pages.vipList.getVipDetail.error"})),B(void 0);case 14:q.destroy();case 15:case"end":return t.stop()}},p,null,[[2,10]])}));return function(e){return c.apply(this,arguments)}}(),ve=[{title:"",dataIndex:"type",key:"type"},{title:s.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],fe=[{title:"ID",dataIndex:"id"},{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:s.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:s.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:s.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark"},{title:s.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(p,e){var h=[(0,u.jsx)(R.ZP,{type:"link",onClick:function(){var t;B(e),(t=re.current)===null||t===void 0||t.setFieldValue("remark",e.remark),requestAnimationFrame(function(){i(!0)})},children:s.formatMessage({id:"pages.vipList.editRemark"})}),(0,u.jsx)(R.ZP,{type:"link",onClick:function(){var t;B(e),(t=se.current)===null||t===void 0||t.setFieldValue("email",e.email),requestAnimationFrame(function(){X(!0)})},children:s.formatMessage({id:"pages.vipList.editEmail"})}),(0,u.jsx)(R.ZP,{type:"link",onClick:function(){B(e),requestAnimationFrame(function(){H(!0)})},children:s.formatMessage({id:"pages.vipList.editEmailPassword"})}),(0,u.jsx)(R.ZP,{type:"link",onClick:l()(v()().mark(function D(){return v()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,pe(e);case 2:case"end":return b.stop()}},D)})),children:s.formatMessage({id:"pages.vipList.detail"})},"view")];return h}}],ge=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:s.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:s.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:s.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:s.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(p){return"$"+(0,f.B)(p,6)}},{title:s.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(p){return"$"+(0,f.B)(p,6)}},{title:s.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(p){return"$"+(0,f.B)(p,6)}},{},{span:2,render:function(p,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,u.jsx)("div",{});var h=[{type:s.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:s.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,f.B)(e.totalInviteeVolume24H,6),level1:"$"+(0,f.B)(e.inviteeVolume24HList[0],6),level2:"$"+(0,f.B)(e.inviteeVolume24HList[1],6),level3:"$"+(0,f.B)(e.inviteeVolume24HList[2],6),level4:"$"+(0,f.B)(e.inviteeVolume24HList[3],6),level5:"$"+(0,f.B)(e.inviteeVolume24HList[4],6)}];return(0,u.jsx)(K.Z,{columns:ve,dataSource:h,pagination:!1})}}];return(0,u.jsxs)(L._z,{children:[(0,u.jsx)(E.Z,{actionRef:ae,rowKey:"guid",search:{labelWidth:120},request:function(){var c=l()(v()().mark(function p(e,h){var D,t,b,$,A;return v()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log(h),e.page=e==null?void 0:e.current,delete e.current,j.next=5,(0,g.zc)(e,h);case 5:return A=j.sent,console.log({data:(D=A.data)===null||D===void 0?void 0:D.list,success:A.code==0,total:(t=A.data)===null||t===void 0?void 0:t.total}),j.abrupt("return",{data:(b=A.data)===null||b===void 0?void 0:b.list,success:A.code==0,total:($=A.data)===null||$===void 0?void 0:$.total});case 8:case"end":return j.stop()}},p)}));return function(p,e){return c.apply(this,arguments)}}(),columns:fe}),(0,u.jsx)(O.Y,{formRef:re,title:s.formatMessage({id:"pages.vipList.editRemark"}),open:n,onFinish:V,onOpenChange:i,children:(0,u.jsx)(P.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,u.jsx)(O.Y,{formRef:se,title:s.formatMessage({id:"pages.vipList.editEmail"}),open:ne,onFinish:V,onOpenChange:X,children:(0,u.jsx)(P.Z,{name:"email",fieldProps:{maxLength:64},rules:[{required:!0,message:"Please enter email!"},{type:"email",message:"must email"}]})}),(0,u.jsx)(O.Y,{title:s.formatMessage({id:"pages.vipList.editEmailPassword"}),open:le,onFinish:V,onOpenChange:H,children:(0,u.jsx)(P.Z.Password,{name:"emailPassword",fieldProps:{maxLength:24},rules:[{required:!0,message:"Please enter password!"},{min:6,message:"length min 6"}]})}),(0,u.jsx)(k.Z,{width:600,open:me,onClose:function(){B(void 0),N(void 0),te(!1)},closable:!1,children:(0,u.jsx)(w.ZP,{column:2,title:s.formatMessage({id:"pages.vipList.detail.view"}),request:l()(v()().mark(function c(){return v()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:S||{}});case 1:case"end":return e.stop()}},c)})),params:{guid:S==null?void 0:S.guid},columns:ge})})]})};T.default=_},12095:function(F,T,a){a.d(T,{DJ:function(){return w},Nq:function(){return K},V8:function(){return L},fA:function(){return U},ig:function(){return M},zc:function(){return O}});var y=a(97857),v=a.n(y),I=a(15009),l=a.n(I),x=a(99289),o=a.n(x),g=a(80854),f=a(2453);function L(_){return E.apply(this,arguments)}function E(){return E=o()(l()().mark(function _(m){var d;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.request)("https://ref.gao.link/api/user/getUserByRef",{method:"GET",params:{refCode:m}});case 2:if(d=n.sent,d.code===0){n.next=5;break}throw d.msg;case 5:return n.abrupt("return",d.data);case 6:case"end":return n.stop()}},_)})),E.apply(this,arguments)}function O(_,m){return P.apply(this,arguments)}function P(){return P=o()(l()().mark(function _(m,d){var r;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("https://ref.gao.link/api/user/getVipPageList",v()({method:"GET",params:v()({},m)},d||{}));case 2:if(r=i.sent,r.code===0){i.next=5;break}throw r.msg;case 5:return i.abrupt("return",r);case 6:case"end":return i.stop()}},_)})),P.apply(this,arguments)}function w(_){return W.apply(this,arguments)}function W(){return W=o()(l()().mark(function _(m){var d;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.request)("https://ref.gao.link/api/user/getVipDetail",{method:"GET",params:{guid:m}});case 2:if(d=n.sent,d.code===0){n.next=5;break}throw d.msg;case 5:return n.abrupt("return",d.data);case 6:case"end":return n.stop()}},_)})),W.apply(this,arguments)}function U(_,m,d){return R.apply(this,arguments)}function R(){return R=o()(l()().mark(function _(m,d,r){var n;return l()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,g.request)("https://ref.gao.link/api/user/addSvip",{method:"POST",data:{guid:m,vip:d,remark:r}});case 2:if(n=C.sent,n.code===0){C.next=5;break}throw n.msg;case 5:return C.abrupt("return");case 6:case"end":return C.stop()}},_)})),R.apply(this,arguments)}function K(_,m){return k.apply(this,arguments)}function k(){return k=o()(l()().mark(function _(m,d){var r;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)("https://ref.gao.link/api/user/updateUser",{method:"POST",data:v()({guid:m},d)});case 2:if(r=i.sent,r.code===0){i.next=8;break}if(r.code!=-2){i.next=7;break}return f.ZP.error(r.msg),i.abrupt("return");case 7:throw r.msg;case 8:return i.abrupt("return");case 9:case"end":return i.stop()}},_)})),k.apply(this,arguments)}function M(){return u.apply(this,arguments)}function u(){return u=o()(l()().mark(function _(){var m;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.request)("https://ref.gao.link/api/overall/data",{method:"GET"});case 2:if(m=r.sent,m.code===0){r.next=5;break}throw m.msg;case 5:return r.abrupt("return",m.data);case 6:case"end":return r.stop()}},_)})),u.apply(this,arguments)}},65763:function(F,T,a){a.d(T,{B:function(){return v}});var y=a(90482);function v(I,l){if(!I)return"";var x=new y.Z(I),o=I.split(".");if(o.length!==2)return I;for(var g=o[0],f=o[1],L=0,E="",O=0;O<f.length;O++){var P=f[O];if(E.length>=l)break;P=="0"&&E.length==0?L=L+1:E=E+P}return L>3?g+".0{"+L+"}"+E:g+"."+"0".repeat(L)+E}}}]);

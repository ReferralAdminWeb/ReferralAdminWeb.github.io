"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function(G,g,e){e.r(g);var I=e(15009),o=e.n(I),B=e(99289),_=e.n(B),T=e(5574),m=e.n(T),c=e(12095),W=e(90930),D=e(38521),j=e(37476),O=e(5966),U=e(20040),M=e(80854),C=e(2453),h=e(28036),L=e(85265),d=e(67294),a=e(85893),u=function(){var t=(0,d.useState)(!1),i=m()(t,2),r=i[0],S=i[1],Z=(0,d.useState)(),w=m()(Z,2),P=w[0],A=w[1],x=(0,d.useState)(!1),$=m()(x,2),z=$[0],V=$[1],X=(0,d.useRef)(),k=(0,d.useRef)(),H=(0,M.useIntl)(),Y=(0,d.useState)(),N=function(){var f=_()(o()().mark(function v(n){var p;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(P){s.next=2;break}return s.abrupt("return",!1);case 2:return s.prev=2,s.next=5,(0,c.Nq)(P.guid,n.remark);case 5:return C.ZP.success("\u66F4\u65B0\u6210\u529F"),(p=X.current)===null||p===void 0||p.reload(),A(void 0),s.abrupt("return",!0);case 11:return s.prev=11,s.t0=s.catch(2),C.ZP.error("\u66F4\u65B0\u4FE1\u606F\u5931\u8D25"),s.abrupt("return",!1);case 15:case"end":return s.stop()}},v,null,[[2,11]])}));return function(n){return f.apply(this,arguments)}}(),F=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:"RefCode",dataIndex:"refCode"},{title:"Level",dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:"24H Volume",dataIndex:"volume24H",hideInSearch:!0},{title:"Commission",dataIndex:"commission",hideInSearch:!0},{title:"Remark",dataIndex:"remark"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(v,n){var p=[(0,a.jsx)(h.ZP,{type:"link",onClick:function(){var s;A(n),(s=k.current)===null||s===void 0||s.setFieldValue("remark",n.remark),requestAnimationFrame(function(){S(!0)})},children:"\u4FEE\u6539\u5907\u6CE8"}),(0,a.jsx)(h.ZP,{type:"link",onClick:function(){console.log(n),A(n),V(!0)},children:"\u8BE6\u60C5"},"view")];return p}}];return(0,a.jsxs)(W._z,{children:[(0,a.jsx)(D.Z,{headerTitle:H.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),actionRef:X,rowKey:"guid",search:{labelWidth:120},request:function(){var f=_()(o()().mark(function v(n,p){var b,s,y,K,E;return o()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log(p),n.page=n==null?void 0:n.current,delete n.current,R.next=5,(0,c.zc)(n,p);case 5:return E=R.sent,console.log({data:(b=E.data)===null||b===void 0?void 0:b.list,success:E.code==0,total:(s=E.data)===null||s===void 0?void 0:s.total}),R.abrupt("return",{data:(y=E.data)===null||y===void 0?void 0:y.list,success:E.code==0,total:(K=E.data)===null||K===void 0?void 0:K.total});case 8:case"end":return R.stop()}},v)}));return function(v,n){return f.apply(this,arguments)}}(),columns:F}),(0,a.jsx)(j.Y,{formRef:k,title:"Edit Remark",open:r,onFinish:N,onOpenChange:S,children:(0,a.jsx)(O.Z,{name:"remark"})}),(0,a.jsx)(L.Z,{width:600,open:z,onClose:function(){A(void 0),V(!1)},closable:!1,children:(0,a.jsx)(U.ZP,{column:2,title:"\u67E5\u770B\u8BE6\u60C5",request:_()(o()().mark(function f(){return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{data:P||{}});case 1:case"end":return n.stop()}},f)})),params:{guid:P==null?void 0:P.guid},columns:F})})]})};g.default=u},12095:function(G,g,e){e.d(g,{Nq:function(){return C},V8:function(){return W},fA:function(){return U},ig:function(){return L},zc:function(){return j}});var I=e(97857),o=e.n(I),B=e(15009),_=e.n(B),T=e(99289),m=e.n(T),c=e(80854);function W(a){return D.apply(this,arguments)}function D(){return D=m()(_()().mark(function a(u){var l;return _()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.request)("/api/user/getUserByRef",{method:"GET",params:{refCode:u}});case 2:if(l=i.sent,l.code===0){i.next=5;break}throw l.msg;case 5:return i.abrupt("return",l.data);case 6:case"end":return i.stop()}},a)})),D.apply(this,arguments)}function j(a,u){return O.apply(this,arguments)}function O(){return O=m()(_()().mark(function a(u,l){var t;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.request)("/api/user/getVipPageList",o()({method:"GET",params:o()({},u)},l||{}));case 2:if(t=r.sent,t.code===0){r.next=5;break}throw t.msg;case 5:return r.abrupt("return",t);case 6:case"end":return r.stop()}},a)})),O.apply(this,arguments)}function U(a,u){return M.apply(this,arguments)}function M(){return M=m()(_()().mark(function a(u,l){var t;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.request)("/api/user/addSvip",{method:"POST",data:{guid:u,remark:l}});case 2:if(t=r.sent,t.code===0){r.next=5;break}throw t.msg;case 5:return r.abrupt("return");case 6:case"end":return r.stop()}},a)})),M.apply(this,arguments)}function C(a,u){return h.apply(this,arguments)}function h(){return h=m()(_()().mark(function a(u,l){var t;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.request)("/api/user/updateUser",{method:"POST",data:{guid:u,remark:l}});case 2:if(t=r.sent,t.code===0){r.next=5;break}throw t.msg;case 5:return r.abrupt("return");case 6:case"end":return r.stop()}},a)})),h.apply(this,arguments)}function L(){return d.apply(this,arguments)}function d(){return d=m()(_()().mark(function a(){var u;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.request)("/api/overall/data",{method:"GET"});case 2:if(u=t.sent,u.code===0){t.next=5;break}throw u.msg;case 5:return t.abrupt("return",u.data);case 6:case"end":return t.stop()}},a)})),d.apply(this,arguments)}}}]);

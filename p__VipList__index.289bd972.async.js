"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{5966:function(w,R,e){var A=e(97685),o=e(1413),T=e(91),v=e(21770),$=e(53025),h=e(55241),M=e(97435),_=e(67294),C=e(56297),p=e(85893),b=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],y="text",S=function(n){var t=n.fieldProps,i=n.proFieldProps,s=(0,T.Z)(n,b);return(0,p.jsx)(C.Z,(0,o.Z)({valueType:y,fieldProps:t,filedConfig:{valueType:y},proFieldProps:i},s))},U=function(n){var t=(0,v.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),i=(0,A.Z)(t,2),s=i[0],l=i[1];return(0,p.jsx)($.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(a){var P,c=a.getFieldValue(n.name||[]);return(0,p.jsx)(h.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:function(E){return l(E)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[(P=n.statusRender)===null||P===void 0?void 0:P.call(n,c),n.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:s,children:n.children}))}})},W=function(n){var t=n.fieldProps,i=n.proFieldProps,s=(0,T.Z)(n,B),l=(0,_.useState)(!1),m=(0,A.Z)(l,2),a=m[0],P=m[1];return t!=null&&t.statusRender&&s.name?(0,p.jsx)(U,{name:s.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:a,onOpenChange:P,children:(0,p.jsx)("div",{children:(0,p.jsx)(C.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,M.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(x){var E;t==null||(E=t.onBlur)===null||E===void 0||E.call(t,x),P(!1)},onClick:function(x){var E;t==null||(E=t.onClick)===null||E===void 0||E.call(t,x),P(!0)}}),proFieldProps:i,filedConfig:{valueType:y}},s))})}):(0,p.jsx)(C.Z,(0,o.Z)({valueType:"password",fieldProps:t,proFieldProps:i,filedConfig:{valueType:y}},s))},K=S;K.Password=W,K.displayName="ProFormComponent",R.Z=K},64487:function(w,R,e){e.r(R);var A=e(15009),o=e.n(A),T=e(99289),v=e.n(T),$=e(5574),h=e.n($),M=e(12095),_=e(65763),C=e(90930),p=e(38521),b=e(37476),B=e(5966),y=e(20040),S=e(94272),U=e(2453),W=e(83622),K=e(96068),j=e(85265),n=e(67294),t=e(85893),i=function(){var l=(0,n.useState)(!1),m=h()(l,2),a=m[0],P=m[1],c=(0,n.useState)(),x=h()(c,2),E=x[0],V=x[1],ae=(0,n.useState)(),J=h()(ae,2),F=J[0],Y=J[1],se=U.ZP.useMessage(),Q=h()(se,2),X=Q[0],pe=Q[1],ne=(0,n.useState)(!1),q=h()(ne,2),ie=q[0],ee=q[1],te=(0,n.useRef)(),re=(0,n.useRef)(),d=(0,S.useIntl)(),le=function(){var D=v()(o()().mark(function f(r){var I,O;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(E){u.next=2;break}return u.abrupt("return",!1);case 2:return u.prev=2,u.next=5,(0,M.Nq)(E.guid,r);case 5:if(O=u.sent,O.code===0){u.next=11;break}if(O.code!=-2){u.next=10;break}return U.ZP.error(O.msg),u.abrupt("return",!1);case 10:throw O.msg;case 11:return U.ZP.success(d.formatMessage({id:"pages.vipList.update.success"})),(I=te.current)===null||I===void 0||I.reload(),V(void 0),u.abrupt("return",!0);case 17:return u.prev=17,u.t0=u.catch(2),U.ZP.error(d.formatMessage({id:"pages.vipList.update.error"})),u.abrupt("return",!1);case 21:case"end":return u.stop()}},f,null,[[2,17]])}));return function(r){return D.apply(this,arguments)}}(),ue=function(){var D=v()(o()().mark(function f(r){var I;return o()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return V(r),X.loading("load..."),g.prev=2,g.next=5,(0,M.DJ)(r.guid);case 5:I=g.sent,Y(I),ee(!0),g.next=14;break;case 10:g.prev=10,g.t0=g.catch(2),U.ZP.error(d.formatMessage({id:"pages.vipList.getVipDetail.error"})),V(void 0);case 14:X.destroy();case 15:case"end":return g.stop()}},f,null,[[2,10]])}));return function(r){return D.apply(this,arguments)}}(),oe=[{title:"",dataIndex:"type",key:"type"},{title:d.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],de=[{title:"ID",dataIndex:"id",hideInSearch:!0,sorter:!0},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:d.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:"Guid",dataIndex:"guid"},{title:d.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:d.formatMessage({id:"pages.vipList.invitee1Count"}),dataIndex:"invitee1Count",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:d.formatMessage({id:"pages.vipList.invitee1Count24"}),dataIndex:"invitee1Count24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:d.formatMessage({id:"pages.vipList.invitee1Volume24"}),dataIndex:"invitee1Volume24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0,renderText:function(f){return"$"+(0,_.B)(f,3)}},{title:d.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",hideInSearch:!0,hideInDescriptions:!0,renderText:function(f){return"$"+(0,_.B)(f,3)}},{title:d.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",hideInSearch:!0},{title:d.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(f,r){var I=[(0,t.jsx)(W.ZP,{type:"link",onClick:function(){var g;V(r),(g=re.current)===null||g===void 0||g.setFieldValue("remark",r.remark),requestAnimationFrame(function(){P(!0)})},children:d.formatMessage({id:"pages.vipList.editRemark"})}),(0,t.jsx)(W.ZP,{type:"link",onClick:v()(o()().mark(function O(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ue(r);case 2:case"end":return u.stop()}},O)})),children:d.formatMessage({id:"pages.vipList.detail"})},"view")];return I}}],_e=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:d.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:d.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:d.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:d.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(f){return"$"+(0,_.B)(f,6)}},{title:d.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(f){return"$"+(0,_.B)(f,6)}},{title:d.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(f){return"$"+(0,_.B)(f,6)}},{},{span:2,render:function(f,r){if(!r||!r.inviteeCountList||!r.inviteeVolume24HList||r.inviteeCountList.length!==5||r.inviteeVolume24HList.length!==5)return(0,t.jsx)("div",{});var I=[{type:d.formatMessage({id:"pages.vipList.invitee"}),total:r.totalInviteeCount+"",level1:r.inviteeCountList[0]+"",level2:r.inviteeCountList[1]+"",level3:r.inviteeCountList[2]+"",level4:r.inviteeCountList[3]+"",level5:r.inviteeCountList[4]+""},{type:d.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,_.B)(r.totalInviteeVolume24H,6),level1:"$"+(0,_.B)(r.inviteeVolume24HList[0],6),level2:"$"+(0,_.B)(r.inviteeVolume24HList[1],6),level3:"$"+(0,_.B)(r.inviteeVolume24HList[2],6),level4:"$"+(0,_.B)(r.inviteeVolume24HList[3],6),level5:"$"+(0,_.B)(r.inviteeVolume24HList[4],6)}];return(0,t.jsx)(K.Z,{columns:oe,dataSource:I,pagination:!1})}}];return(0,t.jsxs)(C._z,{children:[(0,t.jsx)(p.Z,{actionRef:te,rowKey:"guid",search:{labelWidth:120},request:function(){var D=v()(o()().mark(function f(r,I){var O,g,u,G,H,N,z,k,Z;return o()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:H=!1,N="",L.t0=o()().keys(I);case 3:if((L.t1=L.t0()).done){L.next=11;break}return z=L.t1.value,N=z,k=I[z],(k==null?void 0:k.toString())=="descend"&&(H=!0),L.abrupt("break",11);case 11:return r.page=r==null?void 0:r.current,delete r.current,L.next=15,(0,M.zc)(r,N,H);case 15:return Z=L.sent,console.log({data:(O=Z.data)===null||O===void 0?void 0:O.list,success:Z.code==0,total:(g=Z.data)===null||g===void 0?void 0:g.total}),L.abrupt("return",{data:(u=Z.data)===null||u===void 0?void 0:u.list,success:Z.code==0,total:(G=Z.data)===null||G===void 0?void 0:G.total});case 18:case"end":return L.stop()}},f)}));return function(f,r){return D.apply(this,arguments)}}(),columns:de}),(0,t.jsx)(b.Y,{formRef:re,title:d.formatMessage({id:"pages.vipList.editRemark"}),open:a,onFinish:le,onOpenChange:P,children:(0,t.jsx)(B.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,t.jsx)(j.Z,{width:600,open:ie,onClose:function(){V(void 0),Y(void 0),ee(!1)},closable:!1,children:(0,t.jsx)(y.ZP,{column:2,title:d.formatMessage({id:"pages.vipList.detail.view"}),request:v()(o()().mark(function D(){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:F||{}});case 1:case"end":return r.stop()}},D)})),params:{guid:F==null?void 0:F.guid},columns:_e})})]})};R.default=i},12095:function(w,R,e){e.d(R,{DJ:function(){return y},Nq:function(){return K},V8:function(){return C},fA:function(){return U},ig:function(){return n},zc:function(){return b}});var A=e(97857),o=e.n(A),T=e(15009),v=e.n(T),$=e(99289),h=e.n($),M=e(94272),_="https://api.avevip.com";function C(i){return p.apply(this,arguments)}function p(){return p=h()(v()().mark(function i(s){var l;return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)(_+"/api/user/getUserByRef",{method:"GET",params:{refCode:s}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},i)})),p.apply(this,arguments)}function b(i,s,l){return B.apply(this,arguments)}function B(){return B=h()(v()().mark(function i(s,l,m){var a;return v()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l&&(s.sortField=l,s.sortDesc=m),c.next=3,(0,M.request)(_+"/api/user/getVipPageList",{method:"GET",params:o()({},s)});case 3:if(a=c.sent,a.code===0){c.next=6;break}throw a.msg;case 6:return c.abrupt("return",a);case 7:case"end":return c.stop()}},i)})),B.apply(this,arguments)}function y(i){return S.apply(this,arguments)}function S(){return S=h()(v()().mark(function i(s){var l;return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)(_+"/api/user/getVipDetail",{method:"GET",params:{guid:s}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},i)})),S.apply(this,arguments)}function U(i,s,l){return W.apply(this,arguments)}function W(){return W=h()(v()().mark(function i(s,l,m){var a;return v()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,M.request)(_+"/api/user/addSvip",{method:"POST",data:{guid:s,vip:l,remark:m}});case 2:if(a=c.sent,a.code===0){c.next=5;break}throw a.msg;case 5:return c.abrupt("return");case 6:case"end":return c.stop()}},i)})),W.apply(this,arguments)}function K(i,s){return j.apply(this,arguments)}function j(){return j=h()(v()().mark(function i(s,l){var m;return v()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,M.request)(_+"/api/user/updateUser",{method:"POST",data:o()({guid:s},l)});case 2:return m=P.sent,P.abrupt("return",m);case 4:case"end":return P.stop()}},i)})),j.apply(this,arguments)}function n(){return t.apply(this,arguments)}function t(){return t=h()(v()().mark(function i(){var s;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,M.request)(_+"/api/overall/data",{method:"GET"});case 2:if(s=m.sent,s.code===0){m.next=5;break}throw s.msg;case 5:return m.abrupt("return",s.data);case 6:case"end":return m.stop()}},i)})),t.apply(this,arguments)}},65763:function(w,R,e){e.d(R,{B:function(){return o}});var A=e(90482);function o(T,v){if(!T)return"";var $=new A.Z(T),h=T.split(".");if(h.length!==2)return T;for(var M=h[0],_=h[1],C=0,p="",b=0;b<_.length;b++){var B=_[b];if(p.length>=v)break;B=="0"&&p.length==0?C=C+1:p=p+B}return C>3?M+".0{"+C+"}"+p:M+"."+"0".repeat(C)+p}}}]);

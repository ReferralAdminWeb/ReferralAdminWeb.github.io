"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[671],{62088:function(G,I,r){r.r(I),r.d(I,{default:function(){return J}});var x=r(15009),C=r.n(x),R=r(99289),o=r.n(R),L=r(5574),v=r.n(L),c=r(65763),m=r(29933),P=r(90930),j=r(37476),w=r(5966),E=r(64317),D=r(2453),T=r(4393),B=r(55054),O=r(71230),Z=r(15746),A=r(28036),W=r(72051),V=r(38925),d=r(9220),t=r(67294),l=r(73025),i=r(80854),a={line2:"line2___oCLNr",label:"label___WETYo",row:"row___rsldH"},M=r(12095),e=r(85893),z=m.Z.Divider,k=function(){var Q=(0,t.useState)(!1),N=v()(Q,2),F=N[0],_=N[1],q=(0,t.useState)(!1),K=v()(q,2),ee=K[0],H=K[1],re=(0,t.useState)(void 0),X=v()(re,2),p=X[0],$=X[1],ae=(0,t.useState)(void 0),Y=v()(ae,2),g=Y[0],se=Y[1],b=(0,t.useRef)(),n=(0,i.useIntl)(),te=[{title:n.formatMessage({id:"pages.overall.commission.chain",defaultMessage:"Chain"}),dataIndex:"chain",key:"chain"},{title:n.formatMessage({id:"pages.overall.commission.totalCommission",defaultMessage:"Total Commission"}),dataIndex:"totalCommission",key:"totalCommission",render:function(h,u){return(0,c.B)(u.totalCommission,6)+" "+u.symbol}},{title:n.formatMessage({id:"pages.overall.commission.totalUnclaimedCommission",defaultMessage:"Total Unclaimed Commission"}),dataIndex:"totalUnclaimedCommission",key:"totalUnclaimedCommission",render:function(h,u){return(0,c.B)(u.totalUnclaimedCommission,6)+" "+u.symbol}}],ne=function(){var S=o()(C()().mark(function h(u){var y,U;return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,M.V8)(u.target.value);case 3:y=s.sent,y!==void 0&&(U={guid:y.guid,tgUsername:y.tgUsername,email:y.email},$(U)),s.next=11;break;case 7:s.prev=7,s.t0=s.catch(0),$(void 0),D.ZP.error(n.formatMessage({id:"pages.overall.user.notFound"}));case 11:case"end":return s.stop()}},h,null,[[0,7]])}));return function(u){return S.apply(this,arguments)}}(),le=function(){var S=o()(C()().mark(function h(u){var y,U;return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(p!=null){s.next=3;break}return D.ZP.error(n.formatMessage({id:"pages.overall.user.null"})),s.abrupt("return",!1);case 3:return s.prev=3,s.next=6,(0,M.fA)(p==null?void 0:p.guid,u.vip,u.remark);case 6:return D.ZP.success(n.formatMessage({id:"pages.overall.newSvip.add.success"})),b==null||(y=b.current)===null||y===void 0||y.resetFields(),i.history.push("/vipList"),s.abrupt("return",!0);case 12:if(s.prev=12,s.t0=s.catch(3),console.error(s.t0),s.t0!="this user is already VIP"){s.next=20;break}return D.ZP.error(n.formatMessage({id:"pages.overall.newSvip.add.exists"})),b==null||(U=b.current)===null||U===void 0||U.resetFields(),$(void 0),s.abrupt("return",!1);case 20:return D.ZP.error(n.formatMessage({id:"pages.overall.newSvip.add.error"})),s.abrupt("return",!1);case 22:case"end":return s.stop()}},h,null,[[3,12]])}));return function(u){return S.apply(this,arguments)}}();return(0,t.useEffect)(function(){var S=function(){var h=o()(C()().mark(function u(){var y;return C()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,(0,M.ig)();case 3:y=f.sent,se(y),f.next=12;break;case 7:return f.prev=7,f.t0=f.catch(0),console.error(f.t0),D.ZP.error(n.formatMessage({id:"pages.overall.data.error"})),f.abrupt("return",!1);case 12:case"end":return f.stop()}},u,null,[[0,7]])}));return function(){return h.apply(this,arguments)}}();S()},[]),(0,e.jsxs)(P._z,{children:[(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(d.Z,{onResize:function(h){_(h.width<596)},children:(0,e.jsxs)(m.Z.Group,{direction:F?"column":"row",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(B.Z,{title:n.formatMessage({id:"pages.overall.totalInvitee",defaultMessage:"Total Invitee"}),value:g?g.totalinvitee:"-"})}),(0,e.jsx)(z,{type:F?"horizontal":"vertical"}),(0,e.jsx)(m.Z,{children:(0,e.jsx)(B.Z,{title:n.formatMessage({id:"pages.overall.24HNewInvitee",defaultMessage:"24H New Invitee"}),value:g?g.newInvitee24H:"-"})}),(0,e.jsx)(z,{type:F?"horizontal":"vertical"}),(0,e.jsx)(m.Z,{children:(0,e.jsx)(B.Z,{title:n.formatMessage({id:"pages.overall.total24HVolume",defaultMessage:"Total 24H Volume"}),value:g?"$ "+(0,c.B)(g.totalVolume24H,6):"-"})})]})},"resize-observer"),(0,e.jsxs)(O.Z,{gutter:{xs:8,sm:16,md:24,lg:32},className:a.line2,children:[(0,e.jsx)(Z.Z,{span:8,push:16,children:(0,e.jsx)(T.Z,{title:"VIP",extra:(0,e.jsx)("div",{children:(0,e.jsx)(A.ZP,{type:"link",onClick:function(){H(!0)},children:n.formatMessage({id:"pages.overall.vip.newVip"})})}),children:g&&(0,e.jsx)(l.Z,{data:g.vipCountList,angleField:"count",colorField:"vip",innerRadius:.6,label:{text:"count",style:{fontWeight:"bold"}},legend:{color:{title:!1,position:"right",rowPadding:5}},animate:[{type:"text",style:{text:`Total
`+g.totalVipCount,x:"50%",y:"50%",textAlign:"center",fontSize:24}}]})})}),(0,e.jsx)(Z.Z,{span:16,pull:8,children:(0,e.jsx)(T.Z,{title:n.formatMessage({id:"pages.overall.commission.title",defaultMessage:"Commission"}),extra:(0,e.jsx)("div",{children:g?g.startTime+" - now":"-"}),children:g&&(0,e.jsx)(W.Z,{columns:te,dataSource:g.commissionList,pagination:!1})})})]})]}),(0,e.jsxs)(j.Y,{title:"Add SVIP",layout:"horizontal",formRef:b,labelCol:{span:8},wrapperCol:{span:16},open:ee,onFinish:le,onOpenChange:function(h){var u;b==null||(u=b.current)===null||u===void 0||u.resetFields(),H(h)},children:[(0,e.jsx)(w.Z,{width:"md",name:"refCode",label:n.formatMessage({id:"pages.overall.newSvip.refCode"}),placeholder:n.formatMessage({id:"pages.overall.newSvip.refCode.placeholder"}),fieldProps:{onBlur:ne,maxLength:16},rules:[{required:!0,message:"Please enter refCode!"}]}),(0,e.jsx)(E.Z,{width:"md",name:"vip",label:n.formatMessage({id:"pages.overall.newSvip.vip"}),valueEnum:{vip1:n.formatMessage({id:"pages.overall.vip.list.vip1"}),vip2:n.formatMessage({id:"pages.overall.vip.list.vip2"}),vip3:n.formatMessage({id:"pages.overall.vip.list.vip3"}),svip:n.formatMessage({id:"pages.overall.vip.list.svip"})},rules:[{required:!0,message:"Please select vip!"}]}),(0,e.jsx)(w.Z,{width:"md",name:"remark",label:n.formatMessage({id:"pages.overall.newSvip.remark"}),placeholder:n.formatMessage({id:"pages.overall.newSvip.remark.placeholder"}),fieldProps:{maxLength:64}}),p&&(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)("div",{style:{width:400},children:[(0,e.jsx)(V.Z,{message:"User Found",type:"success",showIcon:!0}),(0,e.jsxs)("div",{children:[(0,e.jsxs)(O.Z,{className:a.row,children:[(0,e.jsx)(Z.Z,{className:a.label,span:6,children:"Guid:"}),(0,e.jsx)(Z.Z,{span:12,children:p==null?void 0:p.guid})]}),(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(Z.Z,{className:a.label,span:6,children:"Tg Username:"}),(0,e.jsx)(Z.Z,{span:12,children:p==null?void 0:p.tgUsername})]}),(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(Z.Z,{className:a.label,span:6,children:"Email:"}),(0,e.jsx)(Z.Z,{span:12,children:p==null?void 0:p.email})]})]})]})})]})]})},J=k},12095:function(G,I,r){r.d(I,{DJ:function(){return D},Nq:function(){return Z},V8:function(){return P},fA:function(){return B},ig:function(){return W},zc:function(){return w}});var x=r(97857),C=r.n(x),R=r(15009),o=r.n(R),L=r(99289),v=r.n(L),c=r(80854),m="https://api.avevip.com";function P(d){return j.apply(this,arguments)}function j(){return j=v()(o()().mark(function d(t){var l;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,c.request)(m+"/api/user/getUserByRef",{method:"GET",params:{refCode:t}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},d)})),j.apply(this,arguments)}function w(d,t,l){return E.apply(this,arguments)}function E(){return E=v()(o()().mark(function d(t,l,i){var a;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l&&(t.sortField=l,t.sortDesc=i),e.next=3,(0,c.request)(m+"/api/user/getVipPageList",{method:"GET",params:C()({},t)});case 3:if(a=e.sent,a.code===0){e.next=6;break}throw a.msg;case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}},d)})),E.apply(this,arguments)}function D(d){return T.apply(this,arguments)}function T(){return T=v()(o()().mark(function d(t){var l;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,c.request)(m+"/api/user/getVipDetail",{method:"GET",params:{guid:t}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},d)})),T.apply(this,arguments)}function B(d,t,l){return O.apply(this,arguments)}function O(){return O=v()(o()().mark(function d(t,l,i){var a;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.request)(m+"/api/user/addSvip",{method:"POST",data:{guid:t,vip:l,remark:i}});case 2:if(a=e.sent,a.code===0){e.next=5;break}throw a.msg;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},d)})),O.apply(this,arguments)}function Z(d,t){return A.apply(this,arguments)}function A(){return A=v()(o()().mark(function d(t,l){var i;return o()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,c.request)(m+"/api/user/updateUser",{method:"POST",data:C()({guid:t},l)});case 2:return i=M.sent,M.abrupt("return",i);case 4:case"end":return M.stop()}},d)})),A.apply(this,arguments)}function W(){return V.apply(this,arguments)}function V(){return V=v()(o()().mark(function d(){var t;return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.request)(m+"/api/overall/data",{method:"GET"});case 2:if(t=i.sent,t.code===0){i.next=5;break}throw t.msg;case 5:return i.abrupt("return",t.data);case 6:case"end":return i.stop()}},d)})),V.apply(this,arguments)}},65763:function(G,I,r){r.d(I,{B:function(){return C}});var x=r(90482);function C(R,o){if(!R)return"";var L=new x.Z(R),v=R.split(".");if(v.length!==2)return R;for(var c=v[0],m=v[1],P=0,j="",w=0;w<m.length;w++){var E=m[w];if(j.length>=o)break;E=="0"&&j.length==0?P=P+1:j=j+E}return P>3?c+".0{"+P+"}"+j:c+"."+"0".repeat(P)+j}}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function(x,R,t){t.r(R);var A=t(15009),p=t.n(A),O=t(99289),i=t.n(O),y=t(5574),v=t.n(y),c=t(12095),f=t(65763),M=t(90930),P=t(38521),I=t(37476),B=t(5966),U=t(20040),V=t(80854),b=t(2453),k=t(28036),W=t(72051),$=t(85265),D=t(67294),a=t(85893),d=function(){var n=(0,D.useState)(!1),s=v()(n,2),o=s[0],L=s[1],Q=(0,D.useState)(),S=v()(Q,2),F=S[0],j=S[1],q=(0,D.useState)(),Z=v()(q,2),K=Z[0],X=Z[1],ee=b.ZP.useMessage(),G=v()(ee,2),H=G[0],ue=G[1],te=(0,D.useState)(!1),z=v()(te,2),ae=z[0],J=z[1],N=(0,D.useRef)(),Y=(0,D.useRef)(),de=(0,D.useRef)(),l=(0,V.useIntl)(),re=function(){var g=i()(p()().mark(function m(e){var h,E;return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(F){r.next=2;break}return r.abrupt("return",!1);case 2:return r.prev=2,r.next=5,(0,c.Nq)(F.guid,e);case 5:if(E=r.sent,E.code===0){r.next=11;break}if(E.code!=-2){r.next=10;break}return b.ZP.error(E.msg),r.abrupt("return",!1);case 10:throw E.msg;case 11:return b.ZP.success(l.formatMessage({id:"pages.vipList.update.success"})),(h=N.current)===null||h===void 0||h.reload(),j(void 0),r.abrupt("return",!0);case 17:return r.prev=17,r.t0=r.catch(2),b.ZP.error(l.formatMessage({id:"pages.vipList.update.error"})),r.abrupt("return",!1);case 21:case"end":return r.stop()}},m,null,[[2,17]])}));return function(e){return g.apply(this,arguments)}}(),se=function(){var g=i()(p()().mark(function m(e){var h;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return j(e),H.loading("load..."),u.prev=2,u.next=5,(0,c.DJ)(e.guid);case 5:h=u.sent,X(h),J(!0),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(2),b.ZP.error(l.formatMessage({id:"pages.vipList.getVipDetail.error"})),j(void 0);case 14:H.destroy();case 15:case"end":return u.stop()}},m,null,[[2,10]])}));return function(e){return g.apply(this,arguments)}}(),ne=[{title:"",dataIndex:"type",key:"type"},{title:l.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],ie=[{title:"ID",dataIndex:"id"},{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:l.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:l.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:l.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark"},{title:l.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(m,e){var h=[(0,a.jsx)(k.ZP,{type:"link",onClick:function(){var u;j(e),(u=Y.current)===null||u===void 0||u.setFieldValue("remark",e.remark),requestAnimationFrame(function(){L(!0)})},children:l.formatMessage({id:"pages.vipList.editRemark"})}),(0,a.jsx)(k.ZP,{type:"link",onClick:i()(p()().mark(function E(){return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,se(e);case 2:case"end":return r.stop()}},E)})),children:l.formatMessage({id:"pages.vipList.detail"})},"view")];return h}}],le=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:l.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:l.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:l.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:l.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(m){return"$"+(0,f.B)(m,6)}},{title:l.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(m){return"$"+(0,f.B)(m,6)}},{title:l.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(m){return"$"+(0,f.B)(m,6)}},{},{span:2,render:function(m,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,a.jsx)("div",{});var h=[{type:l.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:l.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,f.B)(e.totalInviteeVolume24H,6),level1:"$"+(0,f.B)(e.inviteeVolume24HList[0],6),level2:"$"+(0,f.B)(e.inviteeVolume24HList[1],6),level3:"$"+(0,f.B)(e.inviteeVolume24HList[2],6),level4:"$"+(0,f.B)(e.inviteeVolume24HList[3],6),level5:"$"+(0,f.B)(e.inviteeVolume24HList[4],6)}];return(0,a.jsx)(W.Z,{columns:ne,dataSource:h,pagination:!1})}}];return(0,a.jsxs)(M._z,{children:[(0,a.jsx)(P.Z,{actionRef:N,rowKey:"guid",search:{labelWidth:120},request:function(){var g=i()(p()().mark(function m(e,h){var E,u,r,w,C;return p()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return console.log(h),e.page=e==null?void 0:e.current,delete e.current,T.next=5,(0,c.zc)(e,h);case 5:return C=T.sent,console.log({data:(E=C.data)===null||E===void 0?void 0:E.list,success:C.code==0,total:(u=C.data)===null||u===void 0?void 0:u.total}),T.abrupt("return",{data:(r=C.data)===null||r===void 0?void 0:r.list,success:C.code==0,total:(w=C.data)===null||w===void 0?void 0:w.total});case 8:case"end":return T.stop()}},m)}));return function(m,e){return g.apply(this,arguments)}}(),columns:ie}),(0,a.jsx)(I.Y,{formRef:Y,title:l.formatMessage({id:"pages.vipList.editRemark"}),open:o,onFinish:re,onOpenChange:L,children:(0,a.jsx)(B.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,a.jsx)($.Z,{width:600,open:ae,onClose:function(){j(void 0),X(void 0),J(!1)},closable:!1,children:(0,a.jsx)(U.ZP,{column:2,title:l.formatMessage({id:"pages.vipList.detail.view"}),request:i()(p()().mark(function g(){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:K||{}});case 1:case"end":return e.stop()}},g)})),params:{guid:K==null?void 0:K.guid},columns:le})})]})};R.default=d},12095:function(x,R,t){t.d(R,{DJ:function(){return B},Nq:function(){return k},V8:function(){return f},fA:function(){return V},ig:function(){return $},zc:function(){return P}});var A=t(97857),p=t.n(A),O=t(15009),i=t.n(O),y=t(99289),v=t.n(y),c=t(80854);function f(a){return M.apply(this,arguments)}function M(){return M=v()(i()().mark(function a(d){var _;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,c.request)("https://ref.gao.link/api/user/getUserByRef",{method:"GET",params:{refCode:d}});case 2:if(_=s.sent,_.code===0){s.next=5;break}throw _.msg;case 5:return s.abrupt("return",_.data);case 6:case"end":return s.stop()}},a)})),M.apply(this,arguments)}function P(a,d){return I.apply(this,arguments)}function I(){return I=v()(i()().mark(function a(d,_){var n;return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.request)("https://ref.gao.link/api/user/getVipPageList",p()({method:"GET",params:p()({},d)},_||{}));case 2:if(n=o.sent,n.code===0){o.next=5;break}throw n.msg;case 5:return o.abrupt("return",n);case 6:case"end":return o.stop()}},a)})),I.apply(this,arguments)}function B(a){return U.apply(this,arguments)}function U(){return U=v()(i()().mark(function a(d){var _;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,c.request)("https://ref.gao.link/api/user/getVipDetail",{method:"GET",params:{guid:d}});case 2:if(_=s.sent,_.code===0){s.next=5;break}throw _.msg;case 5:return s.abrupt("return",_.data);case 6:case"end":return s.stop()}},a)})),U.apply(this,arguments)}function V(a,d,_){return b.apply(this,arguments)}function b(){return b=v()(i()().mark(function a(d,_,n){var s;return i()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,c.request)("https://ref.gao.link/api/user/addSvip",{method:"POST",data:{guid:d,vip:_,remark:n}});case 2:if(s=L.sent,s.code===0){L.next=5;break}throw s.msg;case 5:return L.abrupt("return");case 6:case"end":return L.stop()}},a)})),b.apply(this,arguments)}function k(a,d){return W.apply(this,arguments)}function W(){return W=v()(i()().mark(function a(d,_){var n;return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.request)("https://ref.gao.link/api/user/updateUser",{method:"POST",data:p()({guid:d},_)});case 2:return n=o.sent,o.abrupt("return",n);case 4:case"end":return o.stop()}},a)})),W.apply(this,arguments)}function $(){return D.apply(this,arguments)}function D(){return D=v()(i()().mark(function a(){var d;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("https://ref.gao.link/api/overall/data",{method:"GET"});case 2:if(d=n.sent,d.code===0){n.next=5;break}throw d.msg;case 5:return n.abrupt("return",d.data);case 6:case"end":return n.stop()}},a)})),D.apply(this,arguments)}},65763:function(x,R,t){t.d(R,{B:function(){return p}});var A=t(90482);function p(O,i){if(!O)return"";var y=new A.Z(O),v=O.split(".");if(v.length!==2)return O;for(var c=v[0],f=v[1],M=0,P="",I=0;I<f.length;I++){var B=f[I];if(P.length>=i)break;B=="0"&&P.length==0?M=M+1:P=P+B}return M>3?c+".0{"+M+"}"+P:c+"."+"0".repeat(M)+P}}}]);

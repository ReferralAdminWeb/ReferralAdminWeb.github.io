"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function(N,B,a){a.r(B);var y=a(15009),m=a.n(y),U=a(99289),i=a.n(U),j=a(5574),v=a.n(j),f=a(12095),W=a(90930),L=a(38521),V=a(37476),O=a(5966),K=a(20040),C=a(80854),P=a(2453),I=a(28036),k=a(72051),R=a(85265),E=a(67294),d=a(85893),l=function(){var _=(0,E.useState)(!1),n=v()(_,2),s=n[0],r=n[1],Y=(0,E.useState)(),S=v()(Y,2),$=S[0],A=S[1],Q=(0,E.useState)(),x=v()(Q,2),T=x[0],X=x[1],q=P.ZP.useMessage(),F=v()(q,2),Z=F[0],le=F[1],ee=(0,E.useState)(!1),G=v()(ee,2),te=G[0],H=G[1],z=(0,E.useRef)(),J=(0,E.useRef)(),o=(0,C.useIntl)(),ue=(0,E.useState)(),ae=function(){var g=i()(m()().mark(function c(e){var p;return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if($){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,(0,f.Nq)($.guid,e.remark);case 5:return P.ZP.success(o.formatMessage({id:"pages.vipList.update.success"})),(p=z.current)===null||p===void 0||p.reload(),A(void 0),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(2),P.ZP.error(o.formatMessage({id:"pages.vipList.update.error"})),t.abrupt("return",!1);case 15:case"end":return t.stop()}},c,null,[[2,11]])}));return function(e){return g.apply(this,arguments)}}(),re=function(){var g=i()(m()().mark(function c(e){var p;return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return A(e),Z.loading("load..."),t.prev=2,t.next=5,(0,f.DJ)(e.guid);case 5:p=t.sent,X(p),H(!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),P.ZP.error(o.formatMessage({id:"pages.vipList.getVipDetail.error"})),A(void 0);case 14:Z.destroy();case 15:case"end":return t.stop()}},c,null,[[2,10]])}));return function(e){return g.apply(this,arguments)}}(),ne=[{title:"",dataIndex:"type",key:"type"},{title:"\u603B\u8BA1",dataIndex:"total",key:"total"},{title:"\u4E0B\u7EA71",dataIndex:"level1",key:"level1"},{title:"\u4E0B\u7EA72",dataIndex:"level2",key:"level2"},{title:"\u4E0B\u7EA73",dataIndex:"level3",key:"level3"},{title:"\u4E0B\u7EA74",dataIndex:"level4",key:"level4"},{title:"\u4E0B\u7EA75",dataIndex:"level5",key:"level5"}],se=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:o.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:o.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:o.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark"},{title:o.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(c,e){var p=[(0,d.jsx)(I.ZP,{type:"link",onClick:function(){var t;A(e),(t=J.current)===null||t===void 0||t.setFieldValue("remark",e.remark),requestAnimationFrame(function(){r(!0)})},children:o.formatMessage({id:"pages.vipList.editRemark"})}),(0,d.jsx)(I.ZP,{type:"link",onClick:i()(m()().mark(function h(){return m()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,re(e);case 2:case"end":return M.stop()}},h)})),children:o.formatMessage({id:"pages.vipList.detail"})},"view")];return p}}],ie=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:o.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:o.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:o.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:"\u603B\u5206\u4F63",dataIndex:"commission"},{title:"\u5F85\u5206\u4F63",dataIndex:"unclaimedCommission"},{title:"\u5DF2\u63D0\u73B0",dataIndex:"claimedCommission"},{},{span:2,render:function(c,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,d.jsx)("div",{});var p=[{type:"Invitee",total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:"24H Volume",total:e.totalInviteeVolume24H,level1:e.inviteeVolume24HList[0],level2:e.inviteeVolume24HList[1],level3:e.inviteeVolume24HList[2],level4:e.inviteeVolume24HList[3],level5:e.inviteeVolume24HList[4]}];return(0,d.jsx)(k.Z,{columns:ne,dataSource:p,pagination:!1})}}];return(0,d.jsxs)(W._z,{children:[(0,d.jsx)(L.Z,{actionRef:z,rowKey:"guid",search:{labelWidth:120},request:function(){var g=i()(m()().mark(function c(e,p){var h,t,M,w,D;return m()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log(p),e.page=e==null?void 0:e.current,delete e.current,b.next=5,(0,f.zc)(e,p);case 5:return D=b.sent,console.log({data:(h=D.data)===null||h===void 0?void 0:h.list,success:D.code==0,total:(t=D.data)===null||t===void 0?void 0:t.total}),b.abrupt("return",{data:(M=D.data)===null||M===void 0?void 0:M.list,success:D.code==0,total:(w=D.data)===null||w===void 0?void 0:w.total});case 8:case"end":return b.stop()}},c)}));return function(c,e){return g.apply(this,arguments)}}(),columns:se}),(0,d.jsx)(V.Y,{formRef:J,title:o.formatMessage({id:"pages.vipList.editRemark"}),open:s,onFinish:ae,onOpenChange:r,children:(0,d.jsx)(O.Z,{name:"remark"})}),(0,d.jsx)(R.Z,{width:600,open:te,onClose:function(){A(void 0),X(void 0),H(!1)},closable:!1,children:(0,d.jsx)(K.ZP,{column:2,title:o.formatMessage({id:"pages.vipList.detail.view"}),request:i()(m()().mark(function g(){return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:T||{}});case 1:case"end":return e.stop()}},g)})),params:{guid:T==null?void 0:T.guid},columns:ie})})]})};B.default=l},12095:function(N,B,a){a.d(B,{DJ:function(){return K},Nq:function(){return k},V8:function(){return W},fA:function(){return P},ig:function(){return E},zc:function(){return V}});var y=a(97857),m=a.n(y),U=a(15009),i=a.n(U),j=a(99289),v=a.n(j),f=a(80854);function W(l){return L.apply(this,arguments)}function L(){return L=v()(i()().mark(function l(u){var _;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,f.request)("/api/user/getUserByRef",{method:"GET",params:{refCode:u}});case 2:if(_=s.sent,_.code===0){s.next=5;break}throw _.msg;case 5:return s.abrupt("return",_.data);case 6:case"end":return s.stop()}},l)})),L.apply(this,arguments)}function V(l,u){return O.apply(this,arguments)}function O(){return O=v()(i()().mark(function l(u,_){var n;return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/user/getVipPageList",m()({method:"GET",params:m()({},u)},_||{}));case 2:if(n=r.sent,n.code===0){r.next=5;break}throw n.msg;case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}},l)})),O.apply(this,arguments)}function K(l){return C.apply(this,arguments)}function C(){return C=v()(i()().mark(function l(u){var _;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,f.request)("/api/user/getVipDetail",{method:"GET",params:{guid:u}});case 2:if(_=s.sent,_.code===0){s.next=5;break}throw _.msg;case 5:return s.abrupt("return",_.data);case 6:case"end":return s.stop()}},l)})),C.apply(this,arguments)}function P(l,u){return I.apply(this,arguments)}function I(){return I=v()(i()().mark(function l(u,_){var n;return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/user/addSvip",{method:"POST",data:{guid:u,remark:_}});case 2:if(n=r.sent,n.code===0){r.next=5;break}throw n.msg;case 5:return r.abrupt("return");case 6:case"end":return r.stop()}},l)})),I.apply(this,arguments)}function k(l,u){return R.apply(this,arguments)}function R(){return R=v()(i()().mark(function l(u,_){var n;return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,f.request)("/api/user/updateUser",{method:"POST",data:{guid:u,remark:_}});case 2:if(n=r.sent,n.code===0){r.next=5;break}throw n.msg;case 5:return r.abrupt("return");case 6:case"end":return r.stop()}},l)})),R.apply(this,arguments)}function E(){return d.apply(this,arguments)}function d(){return d=v()(i()().mark(function l(){var u;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.request)("/api/overall/data",{method:"GET"});case 2:if(u=n.sent,u.code===0){n.next=5;break}throw u.msg;case 5:return n.abrupt("return",u.data);case 6:case"end":return n.stop()}},l)})),d.apply(this,arguments)}}}]);

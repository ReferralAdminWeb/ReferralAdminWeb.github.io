"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{5966:function(w,A,e){var y=e(97685),o=e(1413),T=e(91),m=e(21770),$=e(53025),P=e(55241),M=e(97435),_=e(67294),C=e(45456),p=e(85893),B=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],W="text",S=function(s){var t=s.fieldProps,i=s.proFieldProps,n=(0,T.Z)(s,B);return(0,p.jsx)(C.Z,(0,o.Z)({valueType:W,fieldProps:t,filedConfig:{valueType:W},proFieldProps:i},n))},b=function(s){var t=(0,m.Z)(s.open||!1,{value:s.open,onChange:s.onOpenChange}),i=(0,y.Z)(t,2),n=i[0],l=i[1];return(0,p.jsx)($.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(a){var h,f=a.getFieldValue(s.name||[]);return(0,p.jsx)(P.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:function(E){return l(E)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[(h=s.statusRender)===null||h===void 0?void 0:h.call(s,f),s.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:s.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},s.popoverProps),{},{open:n,children:s.children}))}})},j=function(s){var t=s.fieldProps,i=s.proFieldProps,n=(0,T.Z)(s,R),l=(0,_.useState)(!1),v=(0,y.Z)(l,2),a=v[0],h=v[1];return t!=null&&t.statusRender&&n.name?(0,p.jsx)(b,{name:n.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:a,onOpenChange:h,children:(0,p.jsx)("div",{children:(0,p.jsx)(C.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,M.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(x){var E;t==null||(E=t.onBlur)===null||E===void 0||E.call(t,x),h(!1)},onClick:function(x){var E;t==null||(E=t.onClick)===null||E===void 0||E.call(t,x),h(!0)}}),proFieldProps:i,filedConfig:{valueType:W}},n))})}):(0,p.jsx)(C.Z,(0,o.Z)({valueType:"password",fieldProps:t,proFieldProps:i,filedConfig:{valueType:W}},n))},K=S;K.Password=j,K.displayName="ProFormComponent",A.Z=K},64487:function(w,A,e){e.r(A);var y=e(15009),o=e.n(y),T=e(99289),m=e.n(T),$=e(5574),P=e.n($),M=e(12095),_=e(65763),C=e(90930),p=e(38521),B=e(37476),R=e(5966),W=e(20040),S=e(80854),b=e(2453),j=e(28036),K=e(72051),U=e(85265),s=e(67294),t=e(85893),i=function(){var l=(0,s.useState)(!1),v=P()(l,2),a=v[0],h=v[1],f=(0,s.useState)(),x=P()(f,2),E=x[0],V=x[1],ae=(0,s.useState)(),z=P()(ae,2),F=z[0],J=z[1],ne=b.ZP.useMessage(),Y=P()(ne,2),Q=Y[0],pe=Y[1],se=(0,s.useState)(!1),q=P()(se,2),ie=q[0],ee=q[1],te=(0,s.useRef)(),re=(0,s.useRef)(),d=(0,S.useIntl)(),le=function(){var D=m()(o()().mark(function c(r){var I,O;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(E){u.next=2;break}return u.abrupt("return",!1);case 2:return u.prev=2,u.next=5,(0,M.Nq)(E.guid,r);case 5:if(O=u.sent,O.code===0){u.next=11;break}if(O.code!=-2){u.next=10;break}return b.ZP.error(O.msg),u.abrupt("return",!1);case 10:throw O.msg;case 11:return b.ZP.success(d.formatMessage({id:"pages.vipList.update.success"})),(I=te.current)===null||I===void 0||I.reload(),V(void 0),u.abrupt("return",!0);case 17:return u.prev=17,u.t0=u.catch(2),b.ZP.error(d.formatMessage({id:"pages.vipList.update.error"})),u.abrupt("return",!1);case 21:case"end":return u.stop()}},c,null,[[2,17]])}));return function(r){return D.apply(this,arguments)}}(),ue=function(){var D=m()(o()().mark(function c(r){var I;return o()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return V(r),Q.loading("load..."),g.prev=2,g.next=5,(0,M.DJ)(r.guid);case 5:I=g.sent,J(I),ee(!0),g.next=14;break;case 10:g.prev=10,g.t0=g.catch(2),b.ZP.error(d.formatMessage({id:"pages.vipList.getVipDetail.error"})),V(void 0);case 14:Q.destroy();case 15:case"end":return g.stop()}},c,null,[[2,10]])}));return function(r){return D.apply(this,arguments)}}(),oe=[{title:"",dataIndex:"type",key:"type"},{title:d.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],de=[{title:"ID",dataIndex:"id",hideInSearch:!0,sorter:!0},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:d.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:"Guid",dataIndex:"guid"},{title:d.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:d.formatMessage({id:"pages.vipList.invitee1Count"}),dataIndex:"invitee1Count",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:d.formatMessage({id:"pages.vipList.invitee1Count24"}),dataIndex:"invitee1Count24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:d.formatMessage({id:"pages.vipList.invitee1Volume24"}),dataIndex:"invitee1Volume24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0,renderText:function(c){return"$"+(0,_.B)(c,3)}},{title:d.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",hideInSearch:!0,hideInDescriptions:!0,renderText:function(c){return"$"+(0,_.B)(c,3)}},{title:d.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",hideInSearch:!0},{title:d.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(c,r){var I=[(0,t.jsx)(j.ZP,{type:"link",onClick:function(){var g;V(r),(g=re.current)===null||g===void 0||g.setFieldValue("remark",r.remark),requestAnimationFrame(function(){h(!0)})},children:d.formatMessage({id:"pages.vipList.editRemark"})}),(0,t.jsx)(j.ZP,{type:"link",onClick:m()(o()().mark(function O(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ue(r);case 2:case"end":return u.stop()}},O)})),children:d.formatMessage({id:"pages.vipList.detail"})},"view")];return I}}],_e=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:d.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:d.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:d.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:d.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(c){return"$"+(0,_.B)(c,6)}},{title:d.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(c){return"$"+(0,_.B)(c,6)}},{title:d.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(c){return"$"+(0,_.B)(c,6)}},{},{span:2,render:function(c,r){if(!r||!r.inviteeCountList||!r.inviteeVolume24HList||r.inviteeCountList.length!==5||r.inviteeVolume24HList.length!==5)return(0,t.jsx)("div",{});var I=[{type:d.formatMessage({id:"pages.vipList.invitee"}),total:r.totalInviteeCount+"",level1:r.inviteeCountList[0]+"",level2:r.inviteeCountList[1]+"",level3:r.inviteeCountList[2]+"",level4:r.inviteeCountList[3]+"",level5:r.inviteeCountList[4]+""},{type:d.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,_.B)(r.totalInviteeVolume24H,6),level1:"$"+(0,_.B)(r.inviteeVolume24HList[0],6),level2:"$"+(0,_.B)(r.inviteeVolume24HList[1],6),level3:"$"+(0,_.B)(r.inviteeVolume24HList[2],6),level4:"$"+(0,_.B)(r.inviteeVolume24HList[3],6),level5:"$"+(0,_.B)(r.inviteeVolume24HList[4],6)}];return(0,t.jsx)(K.Z,{columns:oe,dataSource:I,pagination:!1})}}];return(0,t.jsxs)(C._z,{children:[(0,t.jsx)(p.Z,{actionRef:te,rowKey:"guid",search:{labelWidth:120},request:function(){var D=m()(o()().mark(function c(r,I){var O,g,u,X,G,H,N,k,Z;return o()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:G=!1,H="",L.t0=o()().keys(I);case 3:if((L.t1=L.t0()).done){L.next=11;break}return N=L.t1.value,H=N,k=I[N],(k==null?void 0:k.toString())=="descend"&&(G=!0),L.abrupt("break",11);case 11:return r.page=r==null?void 0:r.current,delete r.current,L.next=15,(0,M.zc)(r,H,G);case 15:return Z=L.sent,console.log({data:(O=Z.data)===null||O===void 0?void 0:O.list,success:Z.code==0,total:(g=Z.data)===null||g===void 0?void 0:g.total}),L.abrupt("return",{data:(u=Z.data)===null||u===void 0?void 0:u.list,success:Z.code==0,total:(X=Z.data)===null||X===void 0?void 0:X.total});case 18:case"end":return L.stop()}},c)}));return function(c,r){return D.apply(this,arguments)}}(),columns:de}),(0,t.jsx)(B.Y,{formRef:re,title:d.formatMessage({id:"pages.vipList.editRemark"}),open:a,onFinish:le,onOpenChange:h,children:(0,t.jsx)(R.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,t.jsx)(U.Z,{width:600,open:ie,onClose:function(){V(void 0),J(void 0),ee(!1)},closable:!1,children:(0,t.jsx)(W.ZP,{column:2,title:d.formatMessage({id:"pages.vipList.detail.view"}),request:m()(o()().mark(function D(){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:F||{}});case 1:case"end":return r.stop()}},D)})),params:{guid:F==null?void 0:F.guid},columns:_e})})]})};A.default=i},12095:function(w,A,e){e.d(A,{DJ:function(){return W},Nq:function(){return K},V8:function(){return C},fA:function(){return b},ig:function(){return s},zc:function(){return B}});var y=e(97857),o=e.n(y),T=e(15009),m=e.n(T),$=e(99289),P=e.n($),M=e(80854),_="https://api.avevip.com";function C(i){return p.apply(this,arguments)}function p(){return p=P()(m()().mark(function i(n){var l;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)(_+"/api/user/getUserByRef",{method:"GET",params:{refCode:n}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},i)})),p.apply(this,arguments)}function B(i,n,l){return R.apply(this,arguments)}function R(){return R=P()(m()().mark(function i(n,l,v){var a;return m()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l&&(n.sortField=l,n.sortDesc=v),f.next=3,(0,M.request)(_+"/api/user/getVipPageList",{method:"GET",params:o()({},n)});case 3:if(a=f.sent,a.code===0){f.next=6;break}throw a.msg;case 6:return f.abrupt("return",a);case 7:case"end":return f.stop()}},i)})),R.apply(this,arguments)}function W(i){return S.apply(this,arguments)}function S(){return S=P()(m()().mark(function i(n){var l;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)(_+"/api/user/getVipDetail",{method:"GET",params:{guid:n}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},i)})),S.apply(this,arguments)}function b(i,n,l){return j.apply(this,arguments)}function j(){return j=P()(m()().mark(function i(n,l,v){var a;return m()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,M.request)(_+"/api/user/addSvip",{method:"POST",data:{guid:n,vip:l,remark:v}});case 2:if(a=f.sent,a.code===0){f.next=5;break}throw a.msg;case 5:return f.abrupt("return");case 6:case"end":return f.stop()}},i)})),j.apply(this,arguments)}function K(i,n){return U.apply(this,arguments)}function U(){return U=P()(m()().mark(function i(n,l){var v;return m()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,M.request)(_+"/api/user/updateUser",{method:"POST",data:o()({guid:n},l)});case 2:return v=h.sent,h.abrupt("return",v);case 4:case"end":return h.stop()}},i)})),U.apply(this,arguments)}function s(){return t.apply(this,arguments)}function t(){return t=P()(m()().mark(function i(){var n;return m()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,M.request)(_+"/api/overall/data",{method:"GET"});case 2:if(n=v.sent,n.code===0){v.next=5;break}throw n.msg;case 5:return v.abrupt("return",n.data);case 6:case"end":return v.stop()}},i)})),t.apply(this,arguments)}},65763:function(w,A,e){e.d(A,{B:function(){return o}});var y=e(90482);function o(T,m){if(!T)return"";var $=new y.Z(T),P=T.split(".");if(P.length!==2)return T;for(var M=P[0],_=P[1],C=0,p="",B=0;B<_.length;B++){var R=_[B];if(p.length>=m)break;R=="0"&&p.length==0?C=C+1:p=p+R}return C>3?M+".0{"+C+"}"+p:M+"."+"0".repeat(C)+p}}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64317:function(Y,A,a){var D=a(1413),f=a(91),Z=a(22270),i=a(67294),W=a(66758),m=a(56297),P=a(85893),v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],U=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],y=function(p,V){var _=p.fieldProps,K=p.children,F=p.params,$=p.proFieldProps,E=p.mode,L=p.valueEnum,R=p.request,n=p.showSearch,k=p.options,l=(0,f.Z)(p,v),o=(0,i.useContext)(W.Z);return(0,P.jsx)(m.Z,(0,D.Z)((0,D.Z)({valueEnum:(0,Z.h)(L),request:R,params:F,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,D.Z)({options:k,mode:E,showSearch:n,getPopupContainer:o.getPopupContainer},_),ref:V,proFieldProps:$},l),{},{children:K}))},x=i.forwardRef(function(w,p){var V=w.fieldProps,_=w.children,K=w.params,F=w.proFieldProps,$=w.mode,E=w.valueEnum,L=w.request,R=w.options,n=(0,f.Z)(w,U),k=(0,D.Z)({options:R,mode:$||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},V),l=(0,i.useContext)(W.Z);return(0,P.jsx)(m.Z,(0,D.Z)((0,D.Z)({valueEnum:(0,Z.h)(E),request:L,params:K,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,D.Z)({getPopupContainer:l.getPopupContainer},k),ref:p,proFieldProps:F},n),{},{children:_}))}),j=i.forwardRef(y),H=x,O=j;O.SearchSelect=H,O.displayName="ProFormComponent",A.Z=O},66325:function(Y,A,a){a.r(A),a.d(A,{default:function(){return l}});var D=a(15009),f=a.n(D),Z=a(99289),i=a.n(Z),W=a(5574),m=a.n(W),P=a(12095),v=a(65763),U=a(90930),y=a(38521),x=a(37476),j=a(5966),H=a(64317),O=a(20040),w=a(94272),p=a(2453),V=a(83622),_=a(96068),K=a(85265),F=a(38925),$=a(71230),E=a(15746),L=a(67294),R={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",row:"row___H12AQ"},n=a(85893),k=function(){var d=(0,L.useState)(!1),c=m()(d,2),t=c[0],S=c[1],I=(0,L.useState)(),ae=m()(I,2),te=ae[0],N=ae[1],fe=(0,L.useState)(),se=m()(fe,2),z=se[0],ne=se[1],ge=p.ZP.useMessage(),ie=m()(ge,2),le=ie[0],je=ie[1],he=(0,L.useState)(!1),ue=m()(he,2),Pe=ue[0],oe=ue[1],de=(0,L.useRef)(),pe=(0,L.useRef)(),Me=(0,L.useState)(!1),ve=m()(Me,2),Ce=ve[0],me=ve[1],B=(0,L.useRef)(),Se=(0,L.useState)(void 0),ce=m()(Se,2),b=ce[0],Q=ce[1],s=(0,w.useIntl)(),Ie=function(){var M=i()(f()().mark(function u(r){var g,C;return f()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b!=null){e.next=3;break}return p.ZP.error(s.formatMessage({id:"pages.overall.user.null"})),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,(0,P.fA)(b==null?void 0:b.guid,r.vip,r.remark);case 6:return p.ZP.success(s.formatMessage({id:"pages.overall.newSvip.add.success"})),B==null||(g=B.current)===null||g===void 0||g.resetFields(),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(3),console.error(e.t0),e.t0!="this user is already VIP"){e.next=19;break}return p.ZP.error(s.formatMessage({id:"pages.overall.newSvip.add.exists"})),B==null||(C=B.current)===null||C===void 0||C.resetFields(),Q(void 0),e.abrupt("return",!1);case 19:return p.ZP.error(s.formatMessage({id:"pages.overall.newSvip.add.error"})),e.abrupt("return",!1);case 21:case"end":return e.stop()}},u,null,[[3,11]])}));return function(r){return M.apply(this,arguments)}}(),Le=function(){var M=i()(f()().mark(function u(r){var g,C;return f()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(te){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,P.Nq)(te.guid,r);case 5:if(C=e.sent,C.code===0){e.next=11;break}if(C.code!=-2){e.next=10;break}return p.ZP.error(C.msg),e.abrupt("return",!1);case 10:throw C.msg;case 11:return p.ZP.success(s.formatMessage({id:"pages.vipList.update.success"})),(g=de.current)===null||g===void 0||g.reload(),N(void 0),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(2),p.ZP.error(s.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 21:case"end":return e.stop()}},u,null,[[2,17]])}));return function(r){return M.apply(this,arguments)}}(),ye=function(){var M=i()(f()().mark(function u(r){var g,C;return f()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.V8)(r.target.value);case 3:g=e.sent,g!==void 0&&(C={guid:g.guid,tgUsername:g.tgUsername,email:g.email},Q(C)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Q(void 0),p.ZP.error(s.formatMessage({id:"pages.overall.user.notFound"}));case 11:case"end":return e.stop()}},u,null,[[0,7]])}));return function(r){return M.apply(this,arguments)}}(),we=function(){var M=i()(f()().mark(function u(r){var g;return f()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return N(r),le.loading("load..."),h.prev=2,h.next=5,(0,P.DJ)(r.guid);case 5:g=h.sent,ne(g),oe(!0),h.next=14;break;case 10:h.prev=10,h.t0=h.catch(2),p.ZP.error(s.formatMessage({id:"pages.vipList.getVipDetail.error"})),N(void 0);case 14:le.destroy();case 15:case"end":return h.stop()}},u,null,[[2,10]])}));return function(r){return M.apply(this,arguments)}}(),Ee=[{title:"",dataIndex:"type",key:"type"},{title:s.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],be=[{title:"ID",dataIndex:"id",hideInSearch:!0,sorter:!0},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:s.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:"Guid",dataIndex:"guid"},{title:s.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:s.formatMessage({id:"pages.vipList.invitee1Count"}),dataIndex:"invitee1Count",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:s.formatMessage({id:"pages.vipList.invitee1Count24"}),dataIndex:"invitee1Count24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:s.formatMessage({id:"pages.vipList.invitee1Volume24"}),dataIndex:"invitee1Volume24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0,renderText:function(u){return"$"+(0,v.B)(u,3)}},{title:s.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",hideInSearch:!0,hideInDescriptions:!0,renderText:function(u){return"$"+(0,v.B)(u,3)}},{title:s.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",hideInSearch:!0},{title:s.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(u,r){var g=[(0,n.jsx)(V.ZP,{type:"link",onClick:function(){var h;N(r),(h=pe.current)===null||h===void 0||h.setFieldValue("remark",r.remark),requestAnimationFrame(function(){S(!0)})},children:s.formatMessage({id:"pages.vipList.editRemark"})}),(0,n.jsx)(V.ZP,{type:"link",onClick:i()(f()().mark(function C(){return f()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(r);case 2:case"end":return e.stop()}},C)})),children:s.formatMessage({id:"pages.vipList.detail"})},"view")];return g}}],De=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:s.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:s.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:s.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:s.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(u){return"$"+(0,v.B)(u,6)}},{title:s.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(u){return"$"+(0,v.B)(u,6)}},{title:s.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(u){return"$"+(0,v.B)(u,6)}},{},{span:2,render:function(u,r){if(!r||!r.inviteeCountList||!r.inviteeVolume24HList||r.inviteeCountList.length!==5||r.inviteeVolume24HList.length!==5)return(0,n.jsx)("div",{});var g=[{type:s.formatMessage({id:"pages.vipList.invitee"}),total:r.totalInviteeCount+"",level1:r.inviteeCountList[0]+"",level2:r.inviteeCountList[1]+"",level3:r.inviteeCountList[2]+"",level4:r.inviteeCountList[3]+"",level5:r.inviteeCountList[4]+""},{type:s.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,v.B)(r.totalInviteeVolume24H,6),level1:"$"+(0,v.B)(r.inviteeVolume24HList[0],6),level2:"$"+(0,v.B)(r.inviteeVolume24HList[1],6),level3:"$"+(0,v.B)(r.inviteeVolume24HList[2],6),level4:"$"+(0,v.B)(r.inviteeVolume24HList[3],6),level5:"$"+(0,v.B)(r.inviteeVolume24HList[4],6)}];return(0,n.jsx)(_.Z,{columns:Ee,dataSource:g,pagination:!1})}}];return(0,n.jsxs)(U._z,{children:[(0,n.jsx)(y.Z,{actionRef:de,rowKey:"guid",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsx)("div",{children:(0,n.jsx)(V.ZP,{type:"link",onClick:function(){me(!0)},children:s.formatMessage({id:"pages.overall.vip.newVip"})})})]},request:function(){var M=i()(f()().mark(function u(r,g){var C,h,e,X,q,ee,re,J,G;return f()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:q=!1,ee="",T.t0=f()().keys(g);case 3:if((T.t1=T.t0()).done){T.next=11;break}return re=T.t1.value,ee=re,J=g[re],(J==null?void 0:J.toString())=="descend"&&(q=!0),T.abrupt("break",11);case 11:return r.page=r==null?void 0:r.current,delete r.current,T.next=15,(0,P.zc)(r,ee,q);case 15:return G=T.sent,console.log({data:(C=G.data)===null||C===void 0?void 0:C.list,success:G.code==0,total:(h=G.data)===null||h===void 0?void 0:h.total}),T.abrupt("return",{data:(e=G.data)===null||e===void 0?void 0:e.list,success:G.code==0,total:(X=G.data)===null||X===void 0?void 0:X.total});case 18:case"end":return T.stop()}},u)}));return function(u,r){return M.apply(this,arguments)}}(),columns:be}),(0,n.jsx)(x.Y,{formRef:pe,title:s.formatMessage({id:"pages.vipList.editRemark"}),open:t,onFinish:Le,onOpenChange:S,children:(0,n.jsx)(j.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,n.jsx)(K.Z,{width:600,open:Pe,onClose:function(){N(void 0),ne(void 0),oe(!1)},closable:!1,children:(0,n.jsx)(O.ZP,{column:2,title:s.formatMessage({id:"pages.vipList.detail.view"}),request:i()(f()().mark(function M(){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:z||{}});case 1:case"end":return r.stop()}},M)})),params:{guid:z==null?void 0:z.guid},columns:De})}),(0,n.jsxs)(x.Y,{title:"Add SVIP",layout:"horizontal",formRef:B,labelCol:{span:8},wrapperCol:{span:16},open:Ce,onFinish:Ie,onOpenChange:function(u){var r;B==null||(r=B.current)===null||r===void 0||r.resetFields(),me(u)},children:[(0,n.jsx)(j.Z,{width:"md",name:"refCode",label:s.formatMessage({id:"pages.overall.newSvip.refCode"}),placeholder:s.formatMessage({id:"pages.overall.newSvip.refCode.placeholder"}),fieldProps:{onBlur:ye,maxLength:16},rules:[{required:!0,message:"Please enter refCode!"}]}),(0,n.jsx)(H.Z,{width:"md",name:"vip",label:s.formatMessage({id:"pages.overall.newSvip.vip"}),valueEnum:{vip1:s.formatMessage({id:"pages.overall.vip.list.vip1"}),vip2:s.formatMessage({id:"pages.overall.vip.list.vip2"}),vip3:s.formatMessage({id:"pages.overall.vip.list.vip3"}),svip:s.formatMessage({id:"pages.overall.vip.list.svip"})},rules:[{required:!0,message:"Please select vip!"}]}),(0,n.jsx)(j.Z,{width:"md",name:"remark",label:s.formatMessage({id:"pages.overall.newSvip.remark"}),placeholder:s.formatMessage({id:"pages.overall.newSvip.remark.placeholder"}),fieldProps:{maxLength:64}}),b&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsxs)("div",{style:{width:400},children:[(0,n.jsx)(F.Z,{message:"User Found",type:"success",showIcon:!0}),(0,n.jsxs)("div",{children:[(0,n.jsxs)($.Z,{className:R.row,children:[(0,n.jsx)(E.Z,{className:R.label,span:6,children:"Guid:"}),(0,n.jsx)(E.Z,{span:12,children:b==null?void 0:b.guid})]}),(0,n.jsxs)($.Z,{children:[(0,n.jsx)(E.Z,{className:R.label,span:6,children:"Tg Username:"}),(0,n.jsx)(E.Z,{span:12,children:b==null?void 0:b.tgUsername})]}),(0,n.jsxs)($.Z,{children:[(0,n.jsx)(E.Z,{className:R.label,span:6,children:"Email:"}),(0,n.jsx)(E.Z,{span:12,children:b==null?void 0:b.email})]})]})]})})]})]})},l=k},12095:function(Y,A,a){a.d(A,{DJ:function(){return H},JL:function(){return L},Jb:function(){return $},Nq:function(){return V},V8:function(){return U},We:function(){return n},fA:function(){return w},ig:function(){return K},zc:function(){return x}});var D=a(97857),f=a.n(D),Z=a(15009),i=a.n(Z),W=a(99289),m=a.n(W),P=a(94272),v="https://api.avevip.com";function U(l){return y.apply(this,arguments)}function y(){return y=m()(i()().mark(function l(o){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,P.request)(v+"/api/user/getUserByRef",{method:"GET",params:{refCode:o}});case 2:if(d=t.sent,d.code===0){t.next=5;break}throw d.msg;case 5:return t.abrupt("return",d.data);case 6:case"end":return t.stop()}},l)})),y.apply(this,arguments)}function x(l,o,d){return j.apply(this,arguments)}function j(){return j=m()(i()().mark(function l(o,d,c){var t;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return d&&(o.sortField=d,o.sortDesc=c),I.next=3,(0,P.request)(v+"/api/user/getVipPageList",{method:"GET",params:f()({},o)});case 3:if(t=I.sent,t.code===0){I.next=6;break}throw t.msg;case 6:return I.abrupt("return",t);case 7:case"end":return I.stop()}},l)})),j.apply(this,arguments)}function H(l){return O.apply(this,arguments)}function O(){return O=m()(i()().mark(function l(o){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,P.request)(v+"/api/user/getVipDetail",{method:"GET",params:{guid:o}});case 2:if(d=t.sent,d.code===0){t.next=5;break}throw d.msg;case 5:return t.abrupt("return",d.data);case 6:case"end":return t.stop()}},l)})),O.apply(this,arguments)}function w(l,o,d){return p.apply(this,arguments)}function p(){return p=m()(i()().mark(function l(o,d,c){var t;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,P.request)(v+"/api/user/addSvip",{method:"POST",data:{guid:o,vip:d,remark:c}});case 2:if(t=I.sent,t.code===0){I.next=5;break}throw t.msg;case 5:return I.abrupt("return");case 6:case"end":return I.stop()}},l)})),p.apply(this,arguments)}function V(l,o){return _.apply(this,arguments)}function _(){return _=m()(i()().mark(function l(o,d){var c;return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,P.request)(v+"/api/user/updateUser",{method:"POST",data:f()({guid:o},d)});case 2:return c=S.sent,S.abrupt("return",c);case 4:case"end":return S.stop()}},l)})),_.apply(this,arguments)}function K(){return F.apply(this,arguments)}function F(){return F=m()(i()().mark(function l(){var o;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,P.request)(v+"/api/overall/data",{method:"GET"});case 2:if(o=c.sent,o.code===0){c.next=5;break}throw o.msg;case 5:return c.abrupt("return",o.data);case 6:case"end":return c.stop()}},l)})),F.apply(this,arguments)}function $(l){return E.apply(this,arguments)}function E(){return E=m()(i()().mark(function l(o){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,P.request)(v+"/api/user/resetBotSecurityPassword",{method:"POST",data:{guid:o}});case 2:return d=t.sent,t.abrupt("return",d);case 4:case"end":return t.stop()}},l)})),E.apply(this,arguments)}function L(l){return R.apply(this,arguments)}function R(){return R=m()(i()().mark(function l(o){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,P.request)(v+"/api/user/resetGoogleSecurityPassword",{method:"POST",data:{guid:o}});case 2:return d=t.sent,t.abrupt("return",d);case 4:case"end":return t.stop()}},l)})),R.apply(this,arguments)}function n(l,o){return k.apply(this,arguments)}function k(){return k=m()(i()().mark(function l(o,d){var c;return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,P.request)(v+"/api/user/editRefCode",{method:"POST",data:{guid:o,refCode:d}});case 2:return c=S.sent,S.abrupt("return",c);case 4:case"end":return S.stop()}},l)})),k.apply(this,arguments)}},65763:function(Y,A,a){a.d(A,{B:function(){return f}});var D=a(90482);function f(Z,i){if(!Z)return"";var W=new D.Z(Z),m=Z.split(".");if(m.length!==2)return Z;for(var P=m[0],v=m[1],U=0,y="",x=0;x<v.length;x++){var j=v[x];if(y.length>=i)break;j=="0"&&y.length==0?U=U+1:y=y+j}return U>3?P+".0{"+U+"}"+y:P+"."+"0".repeat(U)+y}}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[671],{62088:function(G,x,r){r.r(x),r.d(x,{default:function(){return J}});var B=r(15009),Z=r.n(B),w=r(99289),o=r.n(w),L=r(5574),m=r.n(L),g=r(65763),v=r(29933),P=r(90930),j=r(37476),R=r(5966),E=r(64317),D=r(2453),T=r(4393),I=r(55054),O=r(71230),C=r(15746),A=r(28036),F=r(72051),V=r(38925),d=r(9220),t=r(67294),l=r(73025),i=r(80854),a={line2:"line2___oCLNr",label:"label___WETYo",row:"row___rsldH"},M=r(12095),e=r(85893),$=v.Z.Divider,k=function(){var Q=(0,t.useState)(!1),H=m()(Q,2),W=H[0],_=H[1],q=(0,t.useState)(!1),N=m()(q,2),ee=N[0],K=N[1],re=(0,t.useState)(void 0),X=m()(re,2),f=X[0],z=X[1],ae=(0,t.useState)(void 0),Y=m()(ae,2),p=Y[0],se=Y[1],b=(0,t.useRef)(),n=(0,i.useIntl)(),te=[{title:n.formatMessage({id:"pages.overall.commission.chain",defaultMessage:"Chain"}),dataIndex:"chain",key:"chain"},{title:n.formatMessage({id:"pages.overall.commission.totalCommission",defaultMessage:"Total Commission"}),dataIndex:"totalCommission",key:"totalCommission",render:function(h,u){return(0,g.B)(u.totalCommission,6)+" "+u.symbol}},{title:n.formatMessage({id:"pages.overall.commission.totalUnclaimedCommission",defaultMessage:"Total Unclaimed Commission"}),dataIndex:"totalUnclaimedCommission",key:"totalUnclaimedCommission",render:function(h,u){return(0,g.B)(u.totalUnclaimedCommission,6)+" "+u.symbol}}],ne=function(){var S=o()(Z()().mark(function h(u){var y,U;return Z()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,M.V8)(u.target.value);case 3:y=s.sent,y!==void 0&&(U={guid:y.guid,tgUsername:y.tgUsername,email:y.email},z(U)),s.next=11;break;case 7:s.prev=7,s.t0=s.catch(0),z(void 0),D.ZP.error(n.formatMessage({id:"pages.overall.user.notFound"}));case 11:case"end":return s.stop()}},h,null,[[0,7]])}));return function(u){return S.apply(this,arguments)}}(),le=function(){var S=o()(Z()().mark(function h(u){var y,U;return Z()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(f!=null){s.next=3;break}return D.ZP.error(n.formatMessage({id:"pages.overall.user.null"})),s.abrupt("return",!1);case 3:return s.prev=3,s.next=6,(0,M.fA)(f==null?void 0:f.guid,u.vip,u.remark);case 6:return D.ZP.success(n.formatMessage({id:"pages.overall.newSvip.add.success"})),b==null||(y=b.current)===null||y===void 0||y.resetFields(),i.history.push("/vipList"),s.abrupt("return",!0);case 12:if(s.prev=12,s.t0=s.catch(3),console.error(s.t0),s.t0!="this user is already VIP"){s.next=20;break}return D.ZP.error(n.formatMessage({id:"pages.overall.newSvip.add.exists"})),b==null||(U=b.current)===null||U===void 0||U.resetFields(),z(void 0),s.abrupt("return",!1);case 20:return D.ZP.error(n.formatMessage({id:"pages.overall.newSvip.add.error"})),s.abrupt("return",!1);case 22:case"end":return s.stop()}},h,null,[[3,12]])}));return function(u){return S.apply(this,arguments)}}();return(0,t.useEffect)(function(){var S=function(){var h=o()(Z()().mark(function u(){var y;return Z()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,M.ig)();case 3:y=c.sent,se(y),c.next=12;break;case 7:return c.prev=7,c.t0=c.catch(0),console.error(c.t0),D.ZP.error(n.formatMessage({id:"pages.overall.data.error"})),c.abrupt("return",!1);case 12:case"end":return c.stop()}},u,null,[[0,7]])}));return function(){return h.apply(this,arguments)}}();S()},[]),(0,e.jsxs)(P._z,{children:[(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(d.Z,{onResize:function(h){_(h.width<596)},children:(0,e.jsxs)(v.Z.Group,{direction:W?"column":"row",children:[(0,e.jsx)(v.Z,{children:(0,e.jsx)(I.Z,{title:n.formatMessage({id:"pages.overall.totalInvitee",defaultMessage:"Total Invitee"}),value:p?p.totalinvitee:"-"})}),(0,e.jsx)($,{type:W?"horizontal":"vertical"}),(0,e.jsx)(v.Z,{children:(0,e.jsx)(I.Z,{title:n.formatMessage({id:"pages.overall.traders24H"}),value:p?p.swapUserCount24H:"-"})}),(0,e.jsx)($,{type:W?"horizontal":"vertical"}),(0,e.jsx)(v.Z,{children:(0,e.jsx)(I.Z,{title:n.formatMessage({id:"pages.overall.24HNewInvitee",defaultMessage:"24H New Invitee"}),value:p?p.newInvitee24H:"-"})}),(0,e.jsx)($,{type:W?"horizontal":"vertical"}),(0,e.jsx)(v.Z,{children:(0,e.jsx)(I.Z,{title:n.formatMessage({id:"pages.overall.total24HVolume",defaultMessage:"Total 24H Volume"}),value:p?"$ "+(0,g.B)(p.totalVolume24H,6):"-"})})]})},"resize-observer"),(0,e.jsxs)(O.Z,{gutter:{xs:8,sm:16,md:24,lg:32},className:a.line2,children:[(0,e.jsx)(C.Z,{span:8,push:16,children:(0,e.jsx)(T.Z,{title:"VIP",extra:(0,e.jsx)("div",{children:(0,e.jsx)(A.ZP,{type:"link",onClick:function(){K(!0)},children:n.formatMessage({id:"pages.overall.vip.newVip"})})}),children:p&&(0,e.jsx)(l.Z,{data:p.vipCountList,angleField:"count",colorField:"vip",innerRadius:.6,label:{text:"count",style:{fontWeight:"bold"}},legend:{color:{title:!1,position:"right",rowPadding:5}},animate:[{type:"text",style:{text:`Total
`+p.totalVipCount,x:"50%",y:"50%",textAlign:"center",fontSize:24}}]})})}),(0,e.jsx)(C.Z,{span:16,pull:8,children:(0,e.jsx)(T.Z,{title:n.formatMessage({id:"pages.overall.commission.title",defaultMessage:"Commission"}),extra:(0,e.jsx)("div",{children:p?p.startTime+" - now":"-"}),children:p&&(0,e.jsx)(F.Z,{columns:te,dataSource:p.commissionList,pagination:!1})})})]})]}),(0,e.jsxs)(j.Y,{title:"Add SVIP",layout:"horizontal",formRef:b,labelCol:{span:8},wrapperCol:{span:16},open:ee,onFinish:le,onOpenChange:function(h){var u;b==null||(u=b.current)===null||u===void 0||u.resetFields(),K(h)},children:[(0,e.jsx)(R.Z,{width:"md",name:"refCode",label:n.formatMessage({id:"pages.overall.newSvip.refCode"}),placeholder:n.formatMessage({id:"pages.overall.newSvip.refCode.placeholder"}),fieldProps:{onBlur:ne,maxLength:16},rules:[{required:!0,message:"Please enter refCode!"}]}),(0,e.jsx)(E.Z,{width:"md",name:"vip",label:n.formatMessage({id:"pages.overall.newSvip.vip"}),valueEnum:{vip1:n.formatMessage({id:"pages.overall.vip.list.vip1"}),vip2:n.formatMessage({id:"pages.overall.vip.list.vip2"}),vip3:n.formatMessage({id:"pages.overall.vip.list.vip3"}),svip:n.formatMessage({id:"pages.overall.vip.list.svip"})},rules:[{required:!0,message:"Please select vip!"}]}),(0,e.jsx)(R.Z,{width:"md",name:"remark",label:n.formatMessage({id:"pages.overall.newSvip.remark"}),placeholder:n.formatMessage({id:"pages.overall.newSvip.remark.placeholder"}),fieldProps:{maxLength:64}}),f&&(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)("div",{style:{width:400},children:[(0,e.jsx)(V.Z,{message:"User Found",type:"success",showIcon:!0}),(0,e.jsxs)("div",{children:[(0,e.jsxs)(O.Z,{className:a.row,children:[(0,e.jsx)(C.Z,{className:a.label,span:6,children:"Guid:"}),(0,e.jsx)(C.Z,{span:12,children:f==null?void 0:f.guid})]}),(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(C.Z,{className:a.label,span:6,children:"Tg Username:"}),(0,e.jsx)(C.Z,{span:12,children:f==null?void 0:f.tgUsername})]}),(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(C.Z,{className:a.label,span:6,children:"Email:"}),(0,e.jsx)(C.Z,{span:12,children:f==null?void 0:f.email})]})]})]})})]})]})},J=k},12095:function(G,x,r){r.d(x,{DJ:function(){return D},Nq:function(){return C},V8:function(){return P},fA:function(){return I},ig:function(){return F},zc:function(){return R}});var B=r(97857),Z=r.n(B),w=r(15009),o=r.n(w),L=r(99289),m=r.n(L),g=r(80854),v="https://api.avevip.com";function P(d){return j.apply(this,arguments)}function j(){return j=m()(o()().mark(function d(t){var l;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.request)(v+"/api/user/getUserByRef",{method:"GET",params:{refCode:t}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},d)})),j.apply(this,arguments)}function R(d,t,l){return E.apply(this,arguments)}function E(){return E=m()(o()().mark(function d(t,l,i){var a;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l&&(t.sortField=l,t.sortDesc=i),e.next=3,(0,g.request)(v+"/api/user/getVipPageList",{method:"GET",params:Z()({},t)});case 3:if(a=e.sent,a.code===0){e.next=6;break}throw a.msg;case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}},d)})),E.apply(this,arguments)}function D(d){return T.apply(this,arguments)}function T(){return T=m()(o()().mark(function d(t){var l;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.request)(v+"/api/user/getVipDetail",{method:"GET",params:{guid:t}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},d)})),T.apply(this,arguments)}function I(d,t,l){return O.apply(this,arguments)}function O(){return O=m()(o()().mark(function d(t,l,i){var a;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)(v+"/api/user/addSvip",{method:"POST",data:{guid:t,vip:l,remark:i}});case 2:if(a=e.sent,a.code===0){e.next=5;break}throw a.msg;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},d)})),O.apply(this,arguments)}function C(d,t){return A.apply(this,arguments)}function A(){return A=m()(o()().mark(function d(t,l){var i;return o()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,g.request)(v+"/api/user/updateUser",{method:"POST",data:Z()({guid:t},l)});case 2:return i=M.sent,M.abrupt("return",i);case 4:case"end":return M.stop()}},d)})),A.apply(this,arguments)}function F(){return V.apply(this,arguments)}function V(){return V=m()(o()().mark(function d(){var t;return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)(v+"/api/overall/data",{method:"GET"});case 2:if(t=i.sent,t.code===0){i.next=5;break}throw t.msg;case 5:return i.abrupt("return",t.data);case 6:case"end":return i.stop()}},d)})),V.apply(this,arguments)}},65763:function(G,x,r){r.d(x,{B:function(){return Z}});var B=r(90482);function Z(w,o){if(!w)return"";var L=new B.Z(w),m=w.split(".");if(m.length!==2)return w;for(var g=m[0],v=m[1],P=0,j="",R=0;R<v.length;R++){var E=v[R];if(j.length>=o)break;E=="0"&&j.length==0?P=P+1:j=j+E}return P>3?g+".0{"+P+"}"+j:g+"."+"0".repeat(P)+j}}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[671],{62088:function(G,U,r){r.r(U),r.d(U,{default:function(){return J}});var x=r(15009),M=r.n(x),R=r(99289),d=r.n(R),L=r(5574),v=r.n(L),g=r(65763),p=r(29933),b=r(90930),y=r(37476),w=r(5966),E=r(64317),I=r(2453),T=r(4393),B=r(55054),O=r(71230),S=r(15746),V=r(28036),W=r(72051),A=r(38925),m=r(9220),n=r(67294),l=r(73025),t=r(80854),a={line2:"line2___oCLNr",label:"label___WETYo",row:"row___rsldH"},i=r(12095),e=r(85893),z=p.Z.Divider,k=function(){var Q=(0,n.useState)(!1),N=v()(Q,2),F=N[0],_=N[1],q=(0,n.useState)(!1),K=v()(q,2),ee=K[0],H=K[1],re=(0,n.useState)(void 0),X=v()(re,2),f=X[0],$=X[1],ae=(0,n.useState)(void 0),Y=v()(ae,2),h=Y[0],se=Y[1],C=(0,n.useRef)(),u=(0,t.useIntl)(),ne=[{title:u.formatMessage({id:"pages.overall.commission.chain",defaultMessage:"Chain"}),dataIndex:"chain",key:"chain"},{title:u.formatMessage({id:"pages.overall.commission.totalCommission",defaultMessage:"Total Commission"}),dataIndex:"totalCommission",key:"totalCommission",render:function(j,o){return(0,g.B)(o.totalCommission,6)+" "+o.symbol}},{title:u.formatMessage({id:"pages.overall.commission.totalUnclaimedCommission",defaultMessage:"Total Unclaimed Commission"}),dataIndex:"totalUnclaimedCommission",key:"totalUnclaimedCommission",render:function(j,o){return(0,g.B)(o.totalUnclaimedCommission,6)+" "+o.symbol}}],te=function(){var Z=d()(M()().mark(function j(o){var P,D;return M()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,i.V8)(o.target.value);case 3:P=s.sent,P!==void 0&&(D={guid:P.guid,tgUsername:P.tgUsername,email:P.email},$(D)),s.next=11;break;case 7:s.prev=7,s.t0=s.catch(0),$(void 0),I.ZP.error(u.formatMessage({id:"pages.overall.user.notFound"}));case 11:case"end":return s.stop()}},j,null,[[0,7]])}));return function(o){return Z.apply(this,arguments)}}(),le=function(){var Z=d()(M()().mark(function j(o){var P,D;return M()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(f!=null){s.next=3;break}return I.ZP.error(u.formatMessage({id:"pages.overall.user.null"})),s.abrupt("return",!1);case 3:return s.prev=3,s.next=6,(0,i.fA)(f==null?void 0:f.guid,o.vip,o.remark);case 6:return I.ZP.success(u.formatMessage({id:"pages.overall.newSvip.add.success"})),C==null||(P=C.current)===null||P===void 0||P.resetFields(),t.history.push("/vipList"),s.abrupt("return",!0);case 12:if(s.prev=12,s.t0=s.catch(3),console.error(s.t0),s.t0!="this user is already VIP"){s.next=20;break}return I.ZP.error(u.formatMessage({id:"pages.overall.newSvip.add.exists"})),C==null||(D=C.current)===null||D===void 0||D.resetFields(),$(void 0),s.abrupt("return",!1);case 20:return I.ZP.error(u.formatMessage({id:"pages.overall.newSvip.add.error"})),s.abrupt("return",!1);case 22:case"end":return s.stop()}},j,null,[[3,12]])}));return function(o){return Z.apply(this,arguments)}}();return(0,n.useEffect)(function(){var Z=function(){var j=d()(M()().mark(function o(){var P;return M()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,i.ig)();case 3:P=c.sent,se(P),c.next=12;break;case 7:return c.prev=7,c.t0=c.catch(0),console.error(c.t0),I.ZP.error(u.formatMessage({id:"pages.overall.data.error"})),c.abrupt("return",!1);case 12:case"end":return c.stop()}},o,null,[[0,7]])}));return function(){return j.apply(this,arguments)}}();Z()},[]),(0,e.jsxs)(b._z,{children:[(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(m.Z,{onResize:function(j){_(j.width<596)},children:(0,e.jsxs)(p.Z.Group,{direction:F?"column":"row",children:[(0,e.jsx)(p.Z,{children:(0,e.jsx)(B.Z,{title:u.formatMessage({id:"pages.overall.totalInvitee",defaultMessage:"Total Invitee"}),value:h?h.totalinvitee:"-"})}),(0,e.jsx)(z,{type:F?"horizontal":"vertical"}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(B.Z,{title:u.formatMessage({id:"pages.overall.24HNewInvitee",defaultMessage:"24H New Invitee"}),value:h?h.newInvitee24H:"-"})}),(0,e.jsx)(z,{type:F?"horizontal":"vertical"}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(B.Z,{title:u.formatMessage({id:"pages.overall.total24HVolume",defaultMessage:"Total 24H Volume"}),value:h?"$ "+(0,g.B)(h.totalVolume24H,6):"-"})})]})},"resize-observer"),(0,e.jsxs)(O.Z,{gutter:{xs:8,sm:16,md:24,lg:32},className:a.line2,children:[(0,e.jsx)(S.Z,{span:8,push:16,children:(0,e.jsx)(T.Z,{title:"VIP",extra:(0,e.jsx)("div",{children:(0,e.jsx)(V.ZP,{type:"link",onClick:function(){H(!0)},children:u.formatMessage({id:"pages.overall.vip.newSvip"})})}),children:h&&(0,e.jsx)(l.Z,{data:h.vipCountList,angleField:"count",colorField:"vip",innerRadius:.6,label:{text:"count",style:{fontWeight:"bold"}},legend:{color:{title:!1,position:"right",rowPadding:5}},animate:[{type:"text",style:{text:`Total
`+h.totalVipCount,x:"50%",y:"50%",textAlign:"center",fontSize:24}}]})})}),(0,e.jsx)(S.Z,{span:16,pull:8,children:(0,e.jsx)(T.Z,{title:u.formatMessage({id:"pages.overall.commission.title",defaultMessage:"Commission"}),extra:(0,e.jsx)("div",{children:h?h.startTime+" - now":"-"}),children:h&&(0,e.jsx)(W.Z,{columns:ne,dataSource:h.commissionList,pagination:!1})})})]})]}),(0,e.jsxs)(y.Y,{title:"Add SVIP",layout:"horizontal",formRef:C,labelCol:{span:8},wrapperCol:{span:16},open:ee,onFinish:le,onOpenChange:function(j){var o;C==null||(o=C.current)===null||o===void 0||o.resetFields(),H(j)},children:[(0,e.jsx)(w.Z,{width:"md",name:"refCode",label:u.formatMessage({id:"pages.overall.newSvip.refCode"}),placeholder:u.formatMessage({id:"pages.overall.newSvip.refCode.placeholder"}),fieldProps:{onBlur:te,maxLength:16},rules:[{required:!0,message:"Please enter refCode!"}]}),(0,e.jsx)(E.Z,{width:"md",name:"vip",label:u.formatMessage({id:"pages.overall.newSvip.vip"}),valueEnum:{vip1:"VIP1",vip2:"VIP2",vip3:"VIP3",svip:"SVIP"},rules:[{required:!0,message:"Please select vip!"}]}),(0,e.jsx)(w.Z,{width:"md",name:"remark",label:u.formatMessage({id:"pages.overall.newSvip.remark"}),placeholder:u.formatMessage({id:"pages.overall.newSvip.remark.placeholder"}),fieldProps:{maxLength:64}}),f&&(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsxs)("div",{style:{width:400},children:[(0,e.jsx)(A.Z,{message:"User Found",type:"success",showIcon:!0}),(0,e.jsxs)("div",{children:[(0,e.jsxs)(O.Z,{className:a.row,children:[(0,e.jsx)(S.Z,{className:a.label,span:6,children:"Guid:"}),(0,e.jsx)(S.Z,{span:12,children:f==null?void 0:f.guid})]}),(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(S.Z,{className:a.label,span:6,children:"Tg Usernmae:"}),(0,e.jsx)(S.Z,{span:12,children:f==null?void 0:f.tgUsername})]}),(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(S.Z,{className:a.label,span:6,children:"Email:"}),(0,e.jsx)(S.Z,{span:12,children:f==null?void 0:f.email})]})]})]})})]})]})},J=k},12095:function(G,U,r){r.d(U,{DJ:function(){return I},Nq:function(){return S},V8:function(){return b},fA:function(){return B},ig:function(){return W},zc:function(){return w}});var x=r(97857),M=r.n(x),R=r(15009),d=r.n(R),L=r(99289),v=r.n(L),g=r(80854),p="https://api.avevip.com";function b(m){return y.apply(this,arguments)}function y(){return y=v()(d()().mark(function m(n){var l;return d()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.request)(p+"/api/user/getUserByRef",{method:"GET",params:{refCode:n}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},m)})),y.apply(this,arguments)}function w(m,n){return E.apply(this,arguments)}function E(){return E=v()(d()().mark(function m(n,l){var t;return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)(p+"/api/user/getVipPageList",M()({method:"GET",params:M()({},n)},l||{}));case 2:if(t=i.sent,t.code===0){i.next=5;break}throw t.msg;case 5:return i.abrupt("return",t);case 6:case"end":return i.stop()}},m)})),E.apply(this,arguments)}function I(m){return T.apply(this,arguments)}function T(){return T=v()(d()().mark(function m(n){var l;return d()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.request)(p+"/api/user/getVipDetail",{method:"GET",params:{guid:n}});case 2:if(l=a.sent,l.code===0){a.next=5;break}throw l.msg;case 5:return a.abrupt("return",l.data);case 6:case"end":return a.stop()}},m)})),T.apply(this,arguments)}function B(m,n,l){return O.apply(this,arguments)}function O(){return O=v()(d()().mark(function m(n,l,t){var a;return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.request)(p+"/api/user/addSvip",{method:"POST",data:{guid:n,vip:l,remark:t}});case 2:if(a=e.sent,a.code===0){e.next=5;break}throw a.msg;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},m)})),O.apply(this,arguments)}function S(m,n){return V.apply(this,arguments)}function V(){return V=v()(d()().mark(function m(n,l){var t;return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,g.request)(p+"/api/user/updateUser",{method:"POST",data:M()({guid:n},l)});case 2:return t=i.sent,i.abrupt("return",t);case 4:case"end":return i.stop()}},m)})),V.apply(this,arguments)}function W(){return A.apply(this,arguments)}function A(){return A=v()(d()().mark(function m(){var n;return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.request)(p+"/api/overall/data",{method:"GET"});case 2:if(n=t.sent,n.code===0){t.next=5;break}throw n.msg;case 5:return t.abrupt("return",n.data);case 6:case"end":return t.stop()}},m)})),A.apply(this,arguments)}},65763:function(G,U,r){r.d(U,{B:function(){return M}});var x=r(90482);function M(R,d){if(!R)return"";var L=new x.Z(R),v=R.split(".");if(v.length!==2)return R;for(var g=v[0],p=v[1],b=0,y="",w=0;w<p.length;w++){var E=p[w];if(y.length>=d)break;E=="0"&&y.length==0?b=b+1:y=y+E}return b>3?g+".0{"+b+"}"+y:g+"."+"0".repeat(b)+y}}}]);

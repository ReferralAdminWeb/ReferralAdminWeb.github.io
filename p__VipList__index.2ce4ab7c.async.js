"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64487:function(w,T,t){t.r(T);var W=t(15009),v=t.n(W),L=t(99289),s=t.n(L),K=t(5574),f=t.n(K),h=t(12095),i=t(65763),P=t(90930),D=t(38521),O=t(37476),C=t(5966),S=t(20040),j=t(80854),R=t(2453),A=t(28036),$=t(72051),y=t(85265),b=t(67294),c=t(85893),o=function(){var d=(0,b.useState)(!1),n=f()(d,2),r=n[0],p=n[1],I=(0,b.useState)(),Z=f()(I,2),F=Z[0],V=Z[1],q=(0,b.useState)(),H=f()(q,2),x=H[0],X=H[1],ee=R.ZP.useMessage(),G=f()(ee,2),z=G[0],le=G[1],te=(0,b.useState)(!1),J=f()(te,2),ae=J[0],N=J[1],Y=(0,b.useRef)(),Q=(0,b.useRef)(),u=(0,j.useIntl)(),re=function(){var g=s()(v()().mark(function _(e){var E,M;return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(F){a.next=2;break}return a.abrupt("return",!1);case 2:return a.prev=2,a.next=5,(0,h.Nq)(F.guid,e);case 5:if(M=a.sent,M.code===0){a.next=11;break}if(M.code!=-2){a.next=10;break}return R.ZP.error(M.msg),a.abrupt("return",!1);case 10:throw M.msg;case 11:return R.ZP.success(u.formatMessage({id:"pages.vipList.update.success"})),(E=Y.current)===null||E===void 0||E.reload(),V(void 0),a.abrupt("return",!0);case 17:return a.prev=17,a.t0=a.catch(2),R.ZP.error(u.formatMessage({id:"pages.vipList.update.error"})),a.abrupt("return",!1);case 21:case"end":return a.stop()}},_,null,[[2,17]])}));return function(e){return g.apply(this,arguments)}}(),ne=function(){var g=s()(v()().mark(function _(e){var E;return v()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return V(e),z.loading("load..."),l.prev=2,l.next=5,(0,h.DJ)(e.guid);case 5:E=l.sent,X(E),N(!0),l.next=14;break;case 10:l.prev=10,l.t0=l.catch(2),R.ZP.error(u.formatMessage({id:"pages.vipList.getVipDetail.error"})),V(void 0);case 14:z.destroy();case 15:case"end":return l.stop()}},_,null,[[2,10]])}));return function(e){return g.apply(this,arguments)}}(),se=[{title:"",dataIndex:"type",key:"type"},{title:u.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],ie=[{title:"ID",dataIndex:"id",hideInSearch:!0},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:u.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:"Guid",dataIndex:"guid"},{title:u.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:"invitee1Count",dataIndex:"invitee1Count",hideInSearch:!0,hideInDescriptions:!0},{title:"invitee1Volume24H",dataIndex:"invitee1Volume24H",hideInSearch:!0,hideInDescriptions:!0,renderText:function(_){return(0,i.B)(_,6)}},{title:u.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",hideInSearch:!0},{title:u.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(_,e){var E=[(0,c.jsx)(A.ZP,{type:"link",onClick:function(){var l;V(e),(l=Q.current)===null||l===void 0||l.setFieldValue("remark",e.remark),requestAnimationFrame(function(){p(!0)})},children:u.formatMessage({id:"pages.vipList.editRemark"})}),(0,c.jsx)(A.ZP,{type:"link",onClick:s()(v()().mark(function M(){return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne(e);case 2:case"end":return a.stop()}},M)})),children:u.formatMessage({id:"pages.vipList.detail"})},"view")];return E}}],ue=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:u.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:u.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:u.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:u.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(_){return"$"+(0,i.B)(_,6)}},{title:u.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(_){return"$"+(0,i.B)(_,6)}},{title:u.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(_){return"$"+(0,i.B)(_,6)}},{},{span:2,render:function(_,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,c.jsx)("div",{});var E=[{type:u.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:u.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,i.B)(e.totalInviteeVolume24H,6),level1:"$"+(0,i.B)(e.inviteeVolume24HList[0],6),level2:"$"+(0,i.B)(e.inviteeVolume24HList[1],6),level3:"$"+(0,i.B)(e.inviteeVolume24HList[2],6),level4:"$"+(0,i.B)(e.inviteeVolume24HList[3],6),level5:"$"+(0,i.B)(e.inviteeVolume24HList[4],6)}];return(0,c.jsx)($.Z,{columns:se,dataSource:E,pagination:!1})}}];return(0,c.jsxs)(P._z,{children:[(0,c.jsx)(D.Z,{actionRef:Y,rowKey:"guid",search:{labelWidth:120},request:function(){var g=s()(v()().mark(function _(e,E){var M,l,a,k,B;return v()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return console.log(E),e.page=e==null?void 0:e.current,delete e.current,U.next=5,(0,h.zc)(e,E);case 5:return B=U.sent,console.log({data:(M=B.data)===null||M===void 0?void 0:M.list,success:B.code==0,total:(l=B.data)===null||l===void 0?void 0:l.total}),U.abrupt("return",{data:(a=B.data)===null||a===void 0?void 0:a.list,success:B.code==0,total:(k=B.data)===null||k===void 0?void 0:k.total});case 8:case"end":return U.stop()}},_)}));return function(_,e){return g.apply(this,arguments)}}(),columns:ie}),(0,c.jsx)(O.Y,{formRef:Q,title:u.formatMessage({id:"pages.vipList.editRemark"}),open:r,onFinish:re,onOpenChange:p,children:(0,c.jsx)(C.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,c.jsx)(y.Z,{width:600,open:ae,onClose:function(){V(void 0),X(void 0),N(!1)},closable:!1,children:(0,c.jsx)(S.ZP,{column:2,title:u.formatMessage({id:"pages.vipList.detail.view"}),request:s()(v()().mark(function g(){return v()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:x||{}});case 1:case"end":return e.stop()}},g)})),params:{guid:x==null?void 0:x.guid},columns:ue})})]})};T.default=o},12095:function(w,T,t){t.d(T,{DJ:function(){return S},Nq:function(){return $},V8:function(){return P},fA:function(){return R},ig:function(){return b},zc:function(){return O}});var W=t(97857),v=t.n(W),L=t(15009),s=t.n(L),K=t(99289),f=t.n(K),h=t(80854),i="https://api.avevip.com";function P(o){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function o(m){var d;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)(i+"/api/user/getUserByRef",{method:"GET",params:{refCode:m}});case 2:if(d=r.sent,d.code===0){r.next=5;break}throw d.msg;case 5:return r.abrupt("return",d.data);case 6:case"end":return r.stop()}},o)})),D.apply(this,arguments)}function O(o,m){return C.apply(this,arguments)}function C(){return C=f()(s()().mark(function o(m,d){var n;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,h.request)(i+"/api/user/getVipPageList",v()({method:"GET",params:v()({},m)},d||{}));case 2:if(n=p.sent,n.code===0){p.next=5;break}throw n.msg;case 5:return p.abrupt("return",n);case 6:case"end":return p.stop()}},o)})),C.apply(this,arguments)}function S(o){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function o(m){var d;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.request)(i+"/api/user/getVipDetail",{method:"GET",params:{guid:m}});case 2:if(d=r.sent,d.code===0){r.next=5;break}throw d.msg;case 5:return r.abrupt("return",d.data);case 6:case"end":return r.stop()}},o)})),j.apply(this,arguments)}function R(o,m,d){return A.apply(this,arguments)}function A(){return A=f()(s()().mark(function o(m,d,n){var r;return s()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,h.request)(i+"/api/user/addSvip",{method:"POST",data:{guid:m,vip:d,remark:n}});case 2:if(r=I.sent,r.code===0){I.next=5;break}throw r.msg;case 5:return I.abrupt("return");case 6:case"end":return I.stop()}},o)})),A.apply(this,arguments)}function $(o,m){return y.apply(this,arguments)}function y(){return y=f()(s()().mark(function o(m,d){var n;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,h.request)(i+"/api/user/updateUser",{method:"POST",data:v()({guid:m},d)});case 2:return n=p.sent,p.abrupt("return",n);case 4:case"end":return p.stop()}},o)})),y.apply(this,arguments)}function b(){return c.apply(this,arguments)}function c(){return c=f()(s()().mark(function o(){var m;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.request)(i+"/api/overall/data",{method:"GET"});case 2:if(m=n.sent,m.code===0){n.next=5;break}throw m.msg;case 5:return n.abrupt("return",m.data);case 6:case"end":return n.stop()}},o)})),c.apply(this,arguments)}},65763:function(w,T,t){t.d(T,{B:function(){return v}});var W=t(90482);function v(L,s){if(!L)return"";var K=new W.Z(L),f=L.split(".");if(f.length!==2)return L;for(var h=f[0],i=f[1],P=0,D="",O=0;O<i.length;O++){var C=i[O];if(D.length>=s)break;C=="0"&&D.length==0?P=P+1:D=D+C}return P>3?h+".0{"+P+"}"+D:h+"."+"0".repeat(P)+D}}}]);
